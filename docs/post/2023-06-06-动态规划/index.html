<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <title>算法专题|动态规划 | weiweng的博客</title>
    <meta property="og:title" content="算法专题|动态规划 - weiweng的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2023-06-06T08:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2023-06-06T08:00:00&#43;08:00'>
        
    <meta name="Keywords" content="golang,go语言,go语言笔记,博客,项目管理,软件架构">
    <meta name="description" content="算法专题|动态规划">
        
    <meta name="author" content="weiweng">
    <meta property="og:url" content="https://weiweng.github.io/blog/post/2023-06-06-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">
    <link rel="shortcut icon" href='/blog/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/blog/css/normalize.css'>
    <link rel="stylesheet" href='/blog/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>

<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://weiweng.github.io/blog/">
                        weiweng的博客
                    </a>
                
                <p class="description">记录所学所思所想，专注于Go语言、软件架构</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://weiweng.github.io/blog/">首页</a>
                    
                    <a  href="https://weiweng.github.io/blog/tools/" title="工具">工具</a>
                    
                    <a  href="https://weiweng.github.io/blog/read/" title="阅读">阅读</a>
                    
                    <a  href="https://weiweng.github.io/blog/about/" title="关于">关于</a>
                    
                    <a  href="https://weiweng.github.io/blog/archives/" title="归档">归档</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    <style type="text/css">
    .post-toc {
        position: fixed;
        width: 200px;
        margin-left: -210px;
        padding: 5px 10px;
        font-family: Athelas, STHeiti, Microsoft Yahei, serif;
        font-size: 12px;
        border: 1px solid rgba(0, 0, 0, .07);
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.98);
        background-clip: padding-box;
        -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        word-wrap: break-word;
        white-space: nowrap;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        z-index: 999;
        cursor: pointer;
        max-height: 70%;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .post-toc .post-toc-title {
        width: 100%;
        margin: 0 auto;
        font-size: 20px;
        font-weight: 400;
        text-transform: uppercase;
        text-align: center;
    }

    .post-toc .post-toc-content {
        font-size: 15px;
    }

    .post-toc .post-toc-content>nav>ul {
        margin: 10px 0;
    }

    .post-toc .post-toc-content ul {
        padding-left: 20px;
        list-style: square;
        margin: 0.5em;
        line-height: 1.8em;
    }

    .post-toc .post-toc-content ul ul {
        padding-left: 15px;
        display: none;
    }

    @media print,
    screen and (max-width:1057px) {
        .post-toc {
            display: none;
        }
    }
</style>
<div class="post-toc" style="position: absolute; top: 188px;">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#01背包问题">01背包问题</a>
      <ul>
        <li><a href="#题目leetcode494-目标和httpsleetcode-cncomproblemstarget-sum"><strong>题目<a href="https://leetcode-cn.com/problems/target-sum/">leetcode494 目标和</a></strong></a></li>
        <li><a href="#题目leetcode416-分割等和子集httpsleetcode-cncomproblemspartition-equal-subset-sum"><strong>题目<a href="https://leetcode-cn.com/problems/partition-equal-subset-sum/">leetcode416 分割等和子集</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#完全背包问题">完全背包问题</a>
      <ul>
        <li><a href="#题目leetcode322-零钱兑换httpsleetcode-cncomproblemscoin-change"><strong>题目<a href="https://leetcode-cn.com/problems/coin-change/">leetcode322 零钱兑换</a></strong></a></li>
        <li><a href="#题目leetcode518-零钱兑换iihttpsleetcode-cncomproblemscoin-change-2"><strong>题目<a href="https://leetcode-cn.com/problems/coin-change-2/">leetcode518 零钱兑换II</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#多重背包">多重背包</a></li>
    <li><a href="#子序列问题">子序列问题</a>
      <ul>
        <li><a href="#题目leetcode1143-最长公共子序列httpsleetcode-cncomproblemslongest-common-subsequence"><strong>题目<a href="https://leetcode-cn.com/problems/longest-common-subsequence/">leetcode1143 最长公共子序列</a></strong></a></li>
        <li><a href="#题目-最长公共子串"><strong>题目 最长公共子串</strong></a></li>
        <li><a href="#题目leetcode115-不同子序列httpsleetcode-cncomproblemsdistinct-subsequences"><strong>题目<a href="https://leetcode-cn.com/problems/distinct-subsequences/">leetcode115 不同子序列</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#回文串问题">回文串问题</a>
      <ul>
        <li><a href="#题目leetcode647-回文子串httpsleetcode-cncomproblemspalindromic-substrings"><strong>题目<a href="https://leetcode-cn.com/problems/palindromic-substrings/">leetcode647 回文子串</a></strong></a></li>
        <li><a href="#题目leetcode5-最长回文子串httpsleetcode-cncomproblemslongest-palindromic-substring"><strong>题目<a href="https://leetcode-cn.com/problems/longest-palindromic-substring/">leetcode5 最长回文子串</a></strong></a></li>
        <li><a href="#题目leetcode131-分割回文串httpsleetcode-cncomproblemspalindrome-partitioning"><strong>题目<a href="https://leetcode-cn.com/problems/palindrome-partitioning/">leetcode131 分割回文串</a></strong></a></li>
        <li><a href="#题目leetcode132-分割回文串iihttpsleetcode-cncomproblemspalindrome-partitioning-ii"><strong>题目<a href="https://leetcode-cn.com/problems/palindrome-partitioning-ii/">leetcode132 分割回文串II</a></strong></a></li>
        <li><a href="#题目leetcode1278-分割回文串iiihttpsleetcode-cncomproblemspalindrome-partitioning-iii"><strong>题目<a href="https://leetcode-cn.com/problems/palindrome-partitioning-iii/">leetcode1278 分割回文串III</a></strong></a></li>
        <li><a href="#题目leetcode1745-分割回文串ivhttpsleetcode-cncomproblemspalindrome-partitioning-iv"><strong>题目<a href="https://leetcode-cn.com/problems/palindrome-partitioning-iv/">leetcode1745 分割回文串IV</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#匹配问题">匹配问题</a>
      <ul>
        <li><a href="#题目leetcode44-通配符匹配httpsleetcode-cncomproblemswildcard-matching"><strong>题目<a href="https://leetcode-cn.com/problems/wildcard-matching/">leetcode44 通配符匹配</a></strong></a></li>
        <li><a href="#题目leetcode10-正则表达式匹配httpsleetcode-cncomproblemsregular-expression-matching"><strong>题目<a href="https://leetcode-cn.com/problems/regular-expression-matching/">leetcode10 正则表达式匹配</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#博弈问题">博弈问题</a>
      <ul>
        <li><a href="#题目leetcode486-预测赢家httpsleetcode-cncomproblemspredict-the-winner"><strong>题目<a href="https://leetcode-cn.com/problems/predict-the-winner/">leetcode486 预测赢家</a></strong></a></li>
        <li><a href="#题目leetcode877-石子游戏httpsleetcode-cncomproblemsstone-game"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game/">leetcode877 石子游戏</a></strong></a></li>
        <li><a href="#题目leetcode1140-石子游戏iihttpsleetcode-cncomproblemsstone-game-ii"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-ii/">leetcode1140 石子游戏II</a></strong></a></li>
        <li><a href="#题目leetcode1406-石子游戏iiihttpsleetcode-cncomproblemsstone-game-iii"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-iii/">leetcode1406 石子游戏III</a></strong></a></li>
        <li><a href="#题目leetcode1510-石子游戏ivhttpsleetcode-cncomproblemsstone-game-iv"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-iv/">leetcode1510 石子游戏IV</a></strong></a></li>
        <li><a href="#题目leetcode1563-石子游戏vhttpsleetcode-cncomproblemsstone-game-v"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-v/">leetcode1563 石子游戏V</a></strong></a></li>
        <li><a href="#题目leetcode1690-石子游戏viihttpsleetcode-cncomproblemsstone-game-vii"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-vii/">leetcode1690 石子游戏VII</a></strong></a></li>
        <li><a href="#题目leetcode1872-石子游戏viiihttpsleetcode-cncomproblemsstone-game-viii"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-viii/">leetcode1872 石子游戏VIII</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#股票买卖问题">股票买卖问题</a>
      <ul>
        <li><a href="#题目leetcode121-买卖股票的最佳时机httpsleetcode-cncomproblemsbest-time-to-buy-and-sell-stock"><strong>题目<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/">leetcode121 买卖股票的最佳时机</a></strong></a></li>
        <li><a href="#题目leetcode122-买卖股票的最佳时机iihttpsleetcode-cncomproblemsbest-time-to-buy-and-sell-stock-ii"><strong>题目<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/">leetcode122 买卖股票的最佳时机II</a></strong></a></li>
        <li><a href="#题目leetcode123-买卖股票的最佳时机iiihttpsleetcode-cncomproblemsbest-time-to-buy-and-sell-stock-iii"><strong>题目<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/">leetcode123 买卖股票的最佳时机III</a></strong></a></li>
        <li><a href="#题目leetcode188-买卖股票的最佳时机ivhttpsleetcode-cncomproblemsbest-time-to-buy-and-sell-stock-iv"><strong>题目<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/">leetcode188 买卖股票的最佳时机IV</a></strong></a></li>
        <li><a href="#题目-买卖股票的最佳时机v"><strong>题目 买卖股票的最佳时机V</strong></a></li>
        <li><a href="#题目-买卖股票的最佳时机vi"><strong>题目 买卖股票的最佳时机VI</strong></a></li>
      </ul>
    </li>
    <li><a href="#打家劫舍问题">打家劫舍问题</a>
      <ul>
        <li><a href="#题目leetcode198-打家劫舍httpsleetcode-cncomproblemshouse-robber"><strong>题目<a href="https://leetcode-cn.com/problems/house-robber/">leetcode198 打家劫舍</a></strong></a></li>
        <li><a href="#题目leetcode213-打家劫舍iihttpsleetcode-cncomproblemshouse-robber-ii"><strong>题目<a href="https://leetcode-cn.com/problems/house-robber-ii/">leetcode213 打家劫舍II</a></strong></a></li>
        <li><a href="#题目leetcode337-打家劫舍iiihttpsleetcode-cncomproblemshouse-robber-iii"><strong>题目<a href="https://leetcode-cn.com/problems/house-robber-iii/">leetcode337 打家劫舍III</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#鸡蛋掉落问题">鸡蛋掉落问题</a>
      <ul>
        <li><a href="#题目leetcode887-鸡蛋掉落httpsleetcode-cncomproblemssuper-egg-drop"><strong>题目<a href="https://leetcode-cn.com/problems/super-egg-drop/">leetcode887 鸡蛋掉落</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#路径问题">路径问题</a>
      <ul>
        <li><a href="#题目leetcode64-最小路径和httpsleetcode-cncomproblemsminimum-path-sum"><strong>题目<a href="https://leetcode-cn.com/problems/minimum-path-sum/">leetcode64 最小路径和</a></strong></a></li>
        <li><a href="#题目leetcode62-不同路径httpsleetcode-cncomproblemsunique-paths"><strong>题目<a href="https://leetcode-cn.com/problems/unique-paths/">leetcode62 不同路径</a></strong></a></li>
        <li><a href="#题目leetcode63-不同路径iihttpsleetcode-cncomproblemsunique-paths-ii"><strong>题目<a href="https://leetcode-cn.com/problems/unique-paths-ii/">leetcode63 不同路径II</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#矩阵统计问题">矩阵统计问题</a>
      <ul>
        <li><a href="#题目leetcode221-最大正方形httpsleetcode-cncomproblemsmaximal-square"><strong>题目<a href="https://leetcode-cn.com/problems/maximal-square/">leetcode221 最大正方形</a></strong></a></li>
        <li><a href="#题目-1277-统计全为-1-的正方形子矩阵httpsleetcode-cncomproblemscount-square-submatrices-with-all-ones"><strong>题目 <a href="https://leetcode-cn.com/problems/count-square-submatrices-with-all-ones/">1277 统计全为 1 的正方形子矩阵</a></strong></a></li>
        <li><a href="#题目1139-最大的以-1-为边界的正方形httpsleetcode-cncomproblemslargest-1-bordered-square"><strong>题目<a href="https://leetcode-cn.com/problems/largest-1-bordered-square/">1139. 最大的以 1 为边界的正方形</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#二叉搜索树问题">二叉搜索树问题</a>
      <ul>
        <li><a href="#题目leetcode96-不同的二叉搜索树httpsleetcode-cncomproblemsunique-binary-search-trees"><strong>题目<a href="https://leetcode-cn.com/problems/unique-binary-search-trees/">leetcode96 不同的二叉搜索树</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#丑数问题">丑数问题</a>
      <ul>
        <li><a href="#题目leetcode263-丑数httpsleetcode-cncomproblemsugly-number"><strong>题目<a href="https://leetcode-cn.com/problems/ugly-number/">leetcode263 丑数</a></strong></a></li>
        <li><a href="#题目leetcode264-丑数iihttpsleetcode-cncomproblemsugly-number-ii"><strong>题目<a href="https://leetcode-cn.com/problems/ugly-number-ii/">leetcode264 丑数II</a></strong></a></li>
      </ul>
    </li>
    <li><a href="#括号问题">括号问题</a>
      <ul>
        <li><a href="#题目leetcode32-最长有效括号httpsleetcode-cncomproblemslongest-valid-parentheses"><strong>题目<a href="https://leetcode-cn.com/problems/longest-valid-parentheses/">leetcode32 最长有效括号</a></strong></a></li>
        <li><a href="#题目leetcode22-括号生成httpsleetcode-cncomproblemsgenerate-parentheses"><strong>题目<a href="https://leetcode-cn.com/problems/generate-parentheses/">leetcode22 括号生成</a></strong></a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var postToc = $(".post-toc");
        if (postToc.length) {
            var leftPos = $("#main").offset().left;
            if (leftPos < 220) {
                postToc.css({ "width": leftPos - 10, "margin-left": (0 - leftPos) })
            }

            var t = postToc.offset().top - 20,
                a = {
                    start: {
                        position: "absolute",
                        top: t
                    },
                    process: {
                        position: "fixed",
                        top: 20
                    },
                };
            $(window).scroll(function () {
                var e = $(window).scrollTop();
                e < t ? postToc.css(a.start) : postToc.css(a.process)
            })
        }

        if ($("#TableOfContents").children().length < 1) {
            $(".post-toc").remove();
        }
    })
</script>
    <article class="post">
        <header>
            <h1 class="post-title">算法专题|动态规划</h1>
        </header>
        
  <time datetime="2023-06-06T00:00:00Z" class="post-meta meta-date dt-published">
    2023年6月6日
  </time>


<div class="post-meta meta-category">
  <span>&nbsp;|</span>
  
    <a href='/blog/categories/%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98' target="_blank">算法专题</a>
  
</div>


        
        
        <div class="clear" style="display: none">
            <div class="toc-article">
                <div class="toc-title">文章目录</div>
            </div>
        </div>
        
        <div class="post-content">
            <p>动态规划（Dynamic Programming，DP）是运筹学的一个分支，是求解决策过程。总结有以下特征和解题步骤：</p>
<ul>
<li>肯定是求最值问题，并且具备重叠子问题</li>
<li>定义问题(dp子问题的定义)</li>
<li>寻找状态转变的所有选择情况(定义状态转移方程式)</li>
<li>确定边界情况 bad case</li>
</ul>
<h2 id="01背包问题">01背包问题</h2>
<p>描述</p>
<p>有N件物品和一个容量为V的背包，每种物品只有一件 第i件物品的体积是v[i]价值是w[i] 求解将哪些物品放入背包，可以使背包所装物品的价值和最大</p>
<p>状态</p>
<p><code>dp[i][c]</code> 定义为考虑前i件物品，放入容量不超过c的背包获得的最大价值</p>
<p>选择</p>
<p><code>dp[i][c] = max(dp[i-1][c],dp[i-1][c-v[i]]+w[i])</code></p>
<h3 id="题目leetcode494-目标和httpsleetcode-cncomproblemstarget-sum"><strong>题目<a href="https://leetcode-cn.com/problems/target-sum/">leetcode494 目标和</a></strong></h3>
<p><strong>题解</strong></p>
<p>记数组的元素和为 <code>sum</code>，添加 <code>-</code>号的元素之和为<code>neg</code>，则其余添加 <code>+</code>的元素之和为 <code>sum−neg</code>，得到的表达式的结果为</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>(sum−neg)−neg=sum−2*neg=target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>neg=(sum−target)/2
</span></span></code></pre></td></tr></table>
</div>
</div><p>上式成立，问题转化成在数组<code>nums</code> 中选取若干元素，使得这些元素之和等于 <code>neg</code>，计算选取元素的方案数，经典的01背包问题。</p>
<p><code>dp[i][j]</code>表示在数组<code>nums</code>的前 <code>i</code>个数中选取元素，使得这些元素之和等于<code>j</code>的方案数。假设数组 <code>nums</code> 的长度为 <code>n</code>，则最终答案为 <code>dp[n][neg]</code></p>
<ul>
<li>如果 <code>j&lt;num[i]</code>，则<strong>不能</strong>选<code>num[i]</code>，此时有 <code>dp[i][j]=dp[i−1][j]</code>；</li>
<li>如果 <code>j≥num[i]</code>
<ul>
<li>如果<strong>不选</strong> <code>num[i]</code>，方案数是<code>dp[i−1][j]</code></li>
<li>如果<strong>选</strong> <code>num[i]</code>，方案数是 <code>dp[i−1][j−nums[i]]</code></li>
<li>结果是 <code>dp[i][j]=dp[i−1][j]+dp[i−1][j−nums[i]]</code></li>
</ul>
</li>
</ul>
<p>当没有任何元素可以选取时，元素和只能是 0，对应的方案数是 1，因此动态规划的边界条件是：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>  
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span> j<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">findTargetSumWays</span>(nums []<span style="color:#458;font-weight:bold">int</span>, target <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    sum <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> _, v <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> nums {
</span></span><span style="display:flex;"><span>        sum <span style="color:#000;font-weight:bold">+=</span> v
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    diff <span style="color:#000;font-weight:bold">:=</span> sum <span style="color:#000;font-weight:bold">-</span> target
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> diff &lt; <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">||</span> diff<span style="color:#000;font-weight:bold">%</span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    n, neg <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(nums), diff<span style="color:#000;font-weight:bold">/</span><span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> dp {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, neg<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i, num <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> nums {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> neg; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j] = dp[i][j]
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> j <span style="color:#000;font-weight:bold">&gt;=</span> num {
</span></span><span style="display:flex;"><span>                dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j] <span style="color:#000;font-weight:bold">+=</span> dp[i][j<span style="color:#000;font-weight:bold">-</span>num]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n][neg]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode416-分割等和子集httpsleetcode-cncomproblemspartition-equal-subset-sum"><strong>题目<a href="https://leetcode-cn.com/problems/partition-equal-subset-sum/">leetcode416 分割等和子集</a></strong></h3>
<p><strong>题解</strong></p>
<p>在数组<code>nums</code> 中选取若干元素，使得这些元素之和等于 <code>sum(nums)/2</code>，则可以分割，经典的01背包问题。</p>
<p><code>dp[i][j]</code>表示在数组<code>nums</code>的前 <code>i</code>个数中选取元素，使得这些元素之和等于<code>j</code>的可能性。假设数组 <code>nums</code> 的长度为 <code>n</code>，数组和为<code>sum</code>，则最终答案为 <code>dp[n][sum/2]</code></p>
<ul>
<li>如果 <code>j&lt;num[i]</code>，则<strong>不能</strong>选<code>num[i]</code>，此时有 <code>dp[i][j]=dp[i−1][j]</code></li>
<li>如果 <code>j≥num[i]</code>
<ul>
<li>如果<strong>不选</strong> <code>num[i]</code>，结果是<code>dp[i−1][j]</code></li>
<li>如果<strong>选</strong> <code>num[i]</code>，结果是 <code>dp[i−1][j−nums[i]]</code></li>
<li>结果是 <code>dp[i][j]=dp[i−1][j] | dp[i−1][j−nums[i]]</code></li>
</ul>
</li>
</ul>
<p>当没有任何元素可以选取时，元素和只能是 0，对应的方案数是 1，因此动态规划的边界条件是：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">true</span>, <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;=</span>i<span style="color:#000;font-weight:bold">&lt;</span>n
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][nums[<span style="color:#099">0</span>]] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">true</span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">false</span> , i<span style="color:#000;font-weight:bold">!=</span>nums[[<span style="color:#099">0</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">canPartition</span>(nums []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">bool</span> {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(nums)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> n &lt; <span style="color:#099">2</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    sum, max <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>, <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> _, v <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> nums {
</span></span><span style="display:flex;"><span>        sum <span style="color:#000;font-weight:bold">+=</span> v
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> v &gt; max {
</span></span><span style="display:flex;"><span>            max = v
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> sum<span style="color:#000;font-weight:bold">%</span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">!=</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    target <span style="color:#000;font-weight:bold">:=</span> sum <span style="color:#000;font-weight:bold">/</span> <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> max &gt; target {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">bool</span>, n)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> dp {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">bool</span>, target<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i &lt; n; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">0</span>][nums[<span style="color:#099">0</span>]] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; i &lt; n; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        v <span style="color:#000;font-weight:bold">:=</span> nums[i]
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> target; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> j <span style="color:#000;font-weight:bold">&gt;=</span> v {
</span></span><span style="display:flex;"><span>                dp[i][j] = dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j] <span style="color:#000;font-weight:bold">||</span> dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span>v]
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                dp[i][j] = dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][target]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="完全背包问题">完全背包问题</h2>
<p>题目描述</p>
<p>有N件物品和一个容量为V的背包，每种物品有无限件
第<code>i</code>件物品的体积是<code>v[i]</code>价值是<code>w[i]</code>
求解将哪些物品放入背包，可以使背包所装物品的价值和最大</p>
<p>状态</p>
<p><code>dp[i][j]</code> 定义为考虑前<code>i</code>件物品，放入容量不超过<code>j</code>的背包获得的最大价值</p>
<p>选择</p>
<p><code>dp[i][j] = max(dp[i-1][j],dp[i-1][j-k*v[i]]+k*w[i]) , 0&lt;k*v[i]&lt;=j</code></p>
<h3 id="题目leetcode322-零钱兑换httpsleetcode-cncomproblemscoin-change"><strong>题目<a href="https://leetcode-cn.com/problems/coin-change/">leetcode322 零钱兑换</a></strong></h3>
<p><strong>题解</strong></p>
<p>零钱兑换，很明显子问题是改变总金额的数量即是子问题，如果知道了总金额<code>x</code>的最少硬币数<code>n</code>，则选定硬币数组<code>coins[i]</code>即可组成<code>x+coins[i]</code>的兑换最少硬币数<code>n+1</code></p>
<p><code>dp[i]</code>表示在兑换金额 <code>i</code>的最少硬币数，则最终答案为 <code>dp[amount]</code></p>
<p>每个coins都是一种选择</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">min</span>(dp[i],dp[i<span style="color:#000;font-weight:bold">-</span>coins[j]]<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>), <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;=</span>j<span style="color:#000;font-weight:bold">&lt;</span>n
</span></span></code></pre></td></tr></table>
</div>
</div><p>当金额是 0，对应的最少硬币数自然也是0</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>dp[0] = 0
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">coinChange</span>(coins []<span style="color:#458;font-weight:bold">int</span>, amount <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">var</span> dp = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, amount<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> dp{
</span></span><span style="display:flex;"><span>        dp[i] = math.MaxInt32
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">0</span>] = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> _, coin <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> coins{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> coin; i <span style="color:#000;font-weight:bold">&lt;=</span> amount; i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> dp[i <span style="color:#000;font-weight:bold">-</span> coin] <span style="color:#000;font-weight:bold">==</span> math.MaxInt32{
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            dp[i] = <span style="color:#900;font-weight:bold">min</span>(dp[i], dp[i <span style="color:#000;font-weight:bold">-</span> coin] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> dp[amount] <span style="color:#000;font-weight:bold">==</span> math.MaxInt32{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[amount]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">min</span>(x, y <span style="color:#458;font-weight:bold">int</span>)<span style="color:#458;font-weight:bold">int</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> x &lt; y {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> y 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode518-零钱兑换iihttpsleetcode-cncomproblemscoin-change-2"><strong>题目<a href="https://leetcode-cn.com/problems/coin-change-2/">leetcode518 零钱兑换II</a></strong></h3>
<p><strong>题解</strong></p>
<p>零钱兑换，很明显子问题是改变总金额的数量即是子问题，如果知道了总金额<code>x</code>的兑换组合数<code>n</code>，则选定硬币数组<code>coins</code>的每种情况都可以增加组合数</p>
<p><code>dp[i]</code>表示在兑换金额 <code>i</code>的组合数，则最终答案为 <code>dp[amount]</code></p>
<p>每个coins都是一种选择</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">sum</span>(dp[i<span style="color:#000;font-weight:bold">-</span>coins[j]]), i<span style="color:#000;font-weight:bold">&gt;</span>coins[j] and <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;=</span>j<span style="color:#000;font-weight:bold">&lt;</span>n
</span></span></code></pre></td></tr></table>
</div>
</div><p>当金额是 0，对应的组合数是1</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">change</span>(amount <span style="color:#458;font-weight:bold">int</span>, coins []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, amount<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">0</span>] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> _, coin <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> coins {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> coin; i <span style="color:#000;font-weight:bold">&lt;=</span> amount; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            dp[i] <span style="color:#000;font-weight:bold">+=</span> dp[i<span style="color:#000;font-weight:bold">-</span>coin]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[amount]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="多重背包">多重背包</h2>
<p>题目描述</p>
<p>有N件物品和一个容量为V的背包，每种物品数量有限
第<code>i</code>件物品的体积是<code>v[i]</code>价值是<code>w[i]</code>数量为<code>s[i]</code>
求解将哪些物品放入背包，可以使背包所装物品的价值和最大</p>
<p>状态</p>
<p><code>dp[i][j]</code> 定义为考虑前<code>i</code>件物品，放入容量不超过<code>j</code>的背包获得的最大价值</p>
<p>选择</p>
<p><code>dp[i][j] = max(dp[i-1][j],dp[i-1][j-k*v[i]]+k*w[i]) , 0&lt;k&lt;=s[i] and 0&lt;k*v[i]&lt;=j</code></p>
<h2 id="子序列问题">子序列问题</h2>
<h3 id="题目leetcode1143-最长公共子序列httpsleetcode-cncomproblemslongest-common-subsequence"><strong>题目<a href="https://leetcode-cn.com/problems/longest-common-subsequence/">leetcode1143 最长公共子序列</a></strong></h3>
<p><strong>题解</strong></p>
<p>最长公共子序列问题是典型的二维动态规划问题。考虑两个字符串的各自缩放，即为子问题。</p>
<p><code>dp[i][j]</code>表示<code>text1</code>的前<code>i</code>个字符和<code>text2</code>的前<code>j</code>个字符的最长公共子序列长度，则最终答案为 <code>dp[n][m]</code>
<code>n</code>是<code>textt1</code>的字符长度
<code>m</code>是<code>textt2</code>的字符长度</p>
<ul>
<li>当<code>text1[i-1]==text2[j-1]</code>时，则有<code>dp[i][j] = dp[i-1][j-1]+1</code></li>
<li>当<code>text1[i-1]!=text2[j-1]</code>时，则考虑<code>dp[i-1][j]</code>和<code>dp[i][j-1]</code>的情况，取其中大的
<ul>
<li><code>dp[i][j] = max(dp[i][j-1],dp[i-1][j])</code></li>
</ul>
</li>
</ul>
<p>通过下标1开始映射字符串下标0，因此不用考虑边界值。</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">longestCommonSubsequence</span>(text1, text2 <span style="color:#458;font-weight:bold">string</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    m, n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(text1), <span style="color:#0086b3">len</span>(text2)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, m<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> dp {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i, c1 <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> text1 {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j, c2 <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> text2 {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> c1 <span style="color:#000;font-weight:bold">==</span> c2 {
</span></span><span style="display:flex;"><span>                dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>] = dp[i][j] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>] = <span style="color:#900;font-weight:bold">max</span>(dp[i][j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>], dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j])
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[m][n]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a &gt; b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目-最长公共子串"><strong>题目 最长公共子串</strong></h3>
<p>给定两个字符串，s1和s2，求两者之间的最长的公共子串长度。</p>
<p><strong>题解</strong></p>
<p>最长公共子串是典型的二维动态规划问题。很明显考虑两个字符串的各自缩放，即为子问题。</p>
<p><code>dp[i][j]</code>表示<code>s1</code>的前<code>i</code>个字符和<code>s2</code>的前<code>j</code>个字符的最长公共子串长度，则最终答案为 <code>max(dp[i][j])</code>
<code>n</code>是<code>s1</code>的字符长度
<code>m</code>是<code>s2</code>的字符长度</p>
<ul>
<li>当<code>s1[i-1]==s2[j-1]</code>时，则有<code>dp[i][j] = dp[i-1][j-1]+1</code></li>
<li>当<code>s1[i-1]!=s2[j-1]</code>时，则有<code>dp[i][j] = 0</code></li>
</ul>
<p>通过下标1开始映射字符串下标0，因此不用考虑边界值。</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">longestCommonSubsequence</span>(text1, text2 <span style="color:#458;font-weight:bold">string</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    ans <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    m, n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(text1), <span style="color:#0086b3">len</span>(text2)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, m<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> dp {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i, c1 <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> text1 {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j, c2 <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> text2 {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> c1 <span style="color:#000;font-weight:bold">==</span> c2 {
</span></span><span style="display:flex;"><span>                dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>] = dp[i][j] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>] = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            ans = <span style="color:#900;font-weight:bold">max</span>(ans,dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span>  ans
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a &gt; b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode115-不同子序列httpsleetcode-cncomproblemsdistinct-subsequences"><strong>题目<a href="https://leetcode-cn.com/problems/distinct-subsequences/">leetcode115 不同子序列</a></strong></h3>
<p><strong>题解</strong></p>
<p>首先确定时求最值问题，考虑动态规划，又因为涉及<code>s</code>的子序列，因此有一个变量i标识<code>s</code>的考量部分，最先考虑到的子问题可能是<code>s[:i]</code>的包含<code>t</code>的个数，来统计<code>s</code>的子序列中<code>t</code>出现的个数之和，但这样设定子问题则入引入新的问题，新加入的字符<code>s[i]</code>和<code>t</code>的关系变动，因此需要加一个变量<code>j</code>，记录<code>t</code>的情况。</p>
<p><code>dp[i][j]</code>表示<code>s</code>的前<code>j</code>个字符组成的子序列中出现<code>t</code>的前<code>i</code>个字符组成的子串出现的个数，则最终答案为 <code>dp[n][m]</code>
<code>n</code>是<code>t</code>的字符长度
<code>m</code>是<code>s</code>的字符长度</p>
<ul>
<li>当<code>s[j-1]!=t[i-1]</code>时，则有<code>dp[i][j] = dp[i][j-1]</code></li>
<li>当<code>s[j-1]==t[i-1]</code>时，
<ul>
<li>如果使用<code>s[j]</code>字符，则有<code>dp[i-1][j-1]</code></li>
<li>如果不使用，则有<code>dp[i][j-1]</code></li>
<li>最终结果 <code>dp[i][j] = dp[i-1][j-1] + dp[i][j-1]</code></li>
</ul>
</li>
</ul>
<p>如果t是空字符串，则任意s的子序列都包含t，因此有</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>dp[0][j] = 1, 0&lt;=j&lt;=m
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">numDistinct</span>(s, t <span style="color:#458;font-weight:bold">string</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    m, n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(s), <span style="color:#0086b3">len</span>(t)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> m &lt; n {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> dp {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, m<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>m;i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[<span style="color:#099">0</span>][i] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span>m ; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> s[j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> t[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] {
</span></span><span style="display:flex;"><span>                dp[i][j] = dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> dp[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                dp[i][j] = dp[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n][m]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="回文串问题">回文串问题</h2>
<h3 id="题目leetcode647-回文子串httpsleetcode-cncomproblemspalindromic-substrings"><strong>题目<a href="https://leetcode-cn.com/problems/palindromic-substrings/">leetcode647 回文子串</a></strong></h3>
<p><strong>题解</strong></p>
<p>根据回文的判断机制，需要考虑首尾两处变动，因此子问题便是给定<code>i</code>与 <code>j</code>子串<code>s[i:j]</code>是否是回文，由此来统计回文的子串个数。</p>
<p><code>dp[i][j]</code>表示<code>s[i:j]</code>是否是回文字符串，则最终答案为 <code>sum(dp[i][j])</code></p>
<ul>
<li>当<code>s[i]==s[j]</code>时，
<ul>
<li><code>j-i == 1</code>，即子串只有2个字符，则有<code>dp[i][j] = true</code></li>
<li><code>j-i &gt; 1</code>，则有<code>dp[i][j] = dp[i-1][j-1]</code></li>
</ul>
</li>
<li>当<code>s[i]!=s[j]</code>时，则有<code>dp[i][j] = false</code></li>
</ul>
<p>单个字符自然是回文字符串</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i][i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">true</span>, <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;=</span>i<span style="color:#000;font-weight:bold">&lt;</span>m
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">countSubstrings</span>(s <span style="color:#458;font-weight:bold">string</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>	count <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>	dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">bool</span>, <span style="color:#0086b3">len</span>(s))
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i &lt; <span style="color:#0086b3">len</span>(dp); i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>		dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">bool</span>, <span style="color:#0086b3">len</span>(s))
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; j &lt; <span style="color:#0086b3">len</span>(s); j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> j; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> j {
</span></span><span style="display:flex;"><span>				dp[i][j] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>				count<span style="color:#000;font-weight:bold">++</span>
</span></span><span style="display:flex;"><span>			} <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> j<span style="color:#000;font-weight:bold">-</span>i <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> s[i] <span style="color:#000;font-weight:bold">==</span> s[j] {
</span></span><span style="display:flex;"><span>				dp[i][j] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>				count<span style="color:#000;font-weight:bold">++</span>
</span></span><span style="display:flex;"><span>			} <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> j<span style="color:#000;font-weight:bold">-</span>i &gt; <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> s[i] <span style="color:#000;font-weight:bold">==</span> s[j] <span style="color:#000;font-weight:bold">&amp;&amp;</span> dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] {
</span></span><span style="display:flex;"><span>				dp[i][j] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>				count<span style="color:#000;font-weight:bold">++</span>
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> count
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode5-最长回文子串httpsleetcode-cncomproblemslongest-palindromic-substring"><strong>题目<a href="https://leetcode-cn.com/problems/longest-palindromic-substring/">leetcode5 最长回文子串</a></strong></h3>
<p><strong>题解</strong></p>
<p>根据回文的判断机制，需要考虑首尾两处变动，因此子问题便是给定<code>i</code>与 <code>j</code>子串<code>s[i:j]</code>是否是回文，由此来计算出最长的回文子串。</p>
<p><code>dp[i][j]</code>表示<code>s[i:j]</code>是否是回文字符串，则最终答案为 <code>max(length(dp[i][j]))</code></p>
<ul>
<li>当<code>s[i]==s[j]</code>时，
<ul>
<li><code>j-i == 1</code>，即子串只有2个字符，则有<code>dp[i][j] = true</code></li>
<li><code>j-i &gt; 1</code>，则有<code>dp[i][j] = dp[i-1][j-1]</code></li>
</ul>
</li>
<li>当<code>s[i]!=s[j]</code>时，则有<code>dp[i][j] = false</code></li>
</ul>
<p>单个字符自然是回文字符串</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i][i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">true</span>, <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;=</span>i<span style="color:#000;font-weight:bold">&lt;</span>m
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">longestPalindrome</span>(s <span style="color:#458;font-weight:bold">string</span>) <span style="color:#458;font-weight:bold">string</span> {
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">bool</span>,<span style="color:#0086b3">len</span>(s))
</span></span><span style="display:flex;"><span>    result <span style="color:#000;font-weight:bold">:=</span> s[<span style="color:#099">0</span>:<span style="color:#099">1</span>]  <span style="color:#998;font-style:italic">//初始化结果(最小的回文就是单个字符)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;<span style="color:#0086b3">len</span>(s);i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">bool</span>, <span style="color:#0086b3">len</span>(s))
</span></span><span style="display:flex;"><span>        dp[i][i] = <span style="color:#000;font-weight:bold">true</span>  <span style="color:#998;font-style:italic">// 根据case 1 初始数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> length<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">2</span>;length<span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#0086b3">len</span>(s);length<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> start<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;start&lt;<span style="color:#0086b3">len</span>(s)<span style="color:#000;font-weight:bold">-</span>length<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>;start<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>            end <span style="color:#000;font-weight:bold">:=</span> start <span style="color:#000;font-weight:bold">+</span> length <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> s[start] <span style="color:#000;font-weight:bold">!=</span> s[end]{
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>            }<span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> length &lt; <span style="color:#099">3</span>{
</span></span><span style="display:flex;"><span>                dp[start][end] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>            }<span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                dp[start][end] = dp[start<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][end<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> dp[start][end] <span style="color:#000;font-weight:bold">&amp;&amp;</span> length &gt; <span style="color:#0086b3">len</span>(result){
</span></span><span style="display:flex;"><span>                result = s[start:end<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> result
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode131-分割回文串httpsleetcode-cncomproblemspalindrome-partitioning"><strong>题目<a href="https://leetcode-cn.com/problems/palindrome-partitioning/">leetcode131 分割回文串</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显，为了切割出的字符串是回文，我们需要快速判断<code>s[i:j]</code>是否是回文，利用dp可以快速判断，此外基于回溯实现分割逻辑。</p>
<p><code>dp[i][j]</code>表示<code>s[i:j]</code>是否是回文字符串</p>
<ul>
<li>当<code>s[i]==s[j]</code>时，
<ul>
<li><code>j-i == 1</code>，即子串只有2个字符，则有<code>dp[i][j] = true</code></li>
<li><code>j-i &gt; 1</code>，则有<code>dp[i][j] = dp[i-1][j-1]</code></li>
</ul>
</li>
<li>当<code>s[i]!=s[j]</code>时，则有<code>dp[i][j] = false</code></li>
</ul>
<p>单个字符自然是回文字符串</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>dp[i][i] = true, 0&lt;=i&lt;m
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">partition</span>(s <span style="color:#458;font-weight:bold">string</span>) (ans [][]<span style="color:#458;font-weight:bold">string</span>) {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(s)
</span></span><span style="display:flex;"><span>    f <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">bool</span>, n)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> f {
</span></span><span style="display:flex;"><span>        f[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">bool</span>, n)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> f[i] {
</span></span><span style="display:flex;"><span>            f[i][j] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> n <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">0</span>; i<span style="color:#000;font-weight:bold">--</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; j &lt; n; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            f[i][j] = s[i] <span style="color:#000;font-weight:bold">==</span> s[j] <span style="color:#000;font-weight:bold">&amp;&amp;</span> f[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    splits <span style="color:#000;font-weight:bold">:=</span> []<span style="color:#458;font-weight:bold">string</span>{}
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">var</span> dfs <span style="color:#000;font-weight:bold">func</span>(<span style="color:#458;font-weight:bold">int</span>)
</span></span><span style="display:flex;"><span>    dfs = <span style="color:#000;font-weight:bold">func</span>(i <span style="color:#458;font-weight:bold">int</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> n {
</span></span><span style="display:flex;"><span>            ans = <span style="color:#0086b3">append</span>(ans, <span style="color:#0086b3">append</span>([]<span style="color:#0086b3">string</span>(<span style="color:#000;font-weight:bold">nil</span>), splits<span style="color:#000;font-weight:bold">...</span>))
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> i; j &lt; n; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> f[i][j] {
</span></span><span style="display:flex;"><span>                splits = <span style="color:#0086b3">append</span>(splits, s[i:j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>                <span style="color:#900;font-weight:bold">dfs</span>(j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>                splits = splits[:<span style="color:#0086b3">len</span>(splits)<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#900;font-weight:bold">dfs</span>(<span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode132-分割回文串iihttpsleetcode-cncomproblemspalindrome-partitioning-ii"><strong>题目<a href="https://leetcode-cn.com/problems/palindrome-partitioning-ii/">leetcode132 分割回文串II</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显，为了切割出的字符串是回文，我们需要快速判断<code>s[i:j]</code>是否是回文，利用dp可以快速判断，此外题目寻求最少分割，基于字符长度的单个变量的伸缩就是很明显的子问题了</p>
<p><code>dp[i][j]</code>表示<code>s[i:j]</code>是否是回文字符串
<code>f[i]</code>表示<code>s[0:i+1]</code>子串切割成回文的最少分割次数</p>
<p><em>回文DP逻辑</em></p>
<ul>
<li>当<code>s[i]==s[j]</code>时，
<ul>
<li><code>j-i == 1</code>，即子串只有2个字符，则有<code>dp[i][j] = true</code></li>
<li><code>j-i &gt; 1</code>，则有<code>dp[i][j] = dp[i-1][j-1]</code></li>
</ul>
</li>
<li>当<code>s[i]!=s[j]</code>时，则有<code>dp[i][j] = false</code></li>
</ul>
<p><em>切割DP逻辑</em></p>
<ul>
<li><code>f[i] = min(f[j])+1 , 0&lt;=j&lt;i and dp[j+1:i]=true</code></li>
</ul>
<p><em>回文DP逻辑</em></p>
<p>单个字符自然是回文字符串</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i][i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">true</span>, <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;=</span>i<span style="color:#000;font-weight:bold">&lt;</span>m
</span></span></code></pre></td></tr></table>
</div>
</div><p><em>切割DP逻辑</em></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>f[j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>, dp[<span style="color:#099">0</span>][j]<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">minCut</span>(s <span style="color:#458;font-weight:bold">string</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(s)
</span></span><span style="display:flex;"><span>    g <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">bool</span>, n)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> g {
</span></span><span style="display:flex;"><span>        g[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">bool</span>, n)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> g[i] {
</span></span><span style="display:flex;"><span>            g[i][j] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> n <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">0</span>; i<span style="color:#000;font-weight:bold">--</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; j &lt; n; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            g[i][j] = s[i] <span style="color:#000;font-weight:bold">==</span> s[j] <span style="color:#000;font-weight:bold">&amp;&amp;</span> g[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    f <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> f {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> g[<span style="color:#099">0</span>][i] {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        f[i] = math.MaxInt64
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; j &lt; i; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> g[j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][i] <span style="color:#000;font-weight:bold">&amp;&amp;</span> f[j]<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span> &lt; f[i] {
</span></span><span style="display:flex;"><span>                f[i] = f[j] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> f[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode1278-分割回文串iiihttpsleetcode-cncomproblemspalindrome-partitioning-iii"><strong>题目<a href="https://leetcode-cn.com/problems/palindrome-partitioning-iii/">leetcode1278 分割回文串III</a></strong></h3>
<p><strong>题解</strong></p>
<p>根据题目可以将问题划分两部分，一个是给定子串<code>s[i:j]</code>需要修改成回文的最少次数，一个是给定<code>s[0:i]</code>划分为<code>j</code>段的回文串所用最少修改次数，后者依赖前者，因为切割需要快速判断切割部分变成回文的修改次数。</p>
<p><code>grid[i][j]</code>表示为以<code>s[i:j]</code>子字符串变成回文串需要的最小修改次数
<code>dp[i][j]</code>为对以i结尾的子串分割j次得到的子串都是回文串需要的最小修改次数</p>
<p><em>回文修改dp逻辑</em></p>
<ul>
<li>当<code>s[i]==s[j]</code>时，则有<code>grid[i][j] = grid[i+1][j-1]</code></li>
<li>否则<code>grid[i][j] = grid[i+1][j-1]+1</code></li>
</ul>
<p><em>回文切割dp逻辑</em></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> grid[<span style="color:#099">1</span>][i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>dp[i][j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">min</span>(dp[i<span style="color:#000;font-weight:bold">-</span>L][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> grid[i<span style="color:#000;font-weight:bold">-</span>L<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>]); <span style="color:#099">1</span><span style="color:#000;font-weight:bold">&lt;=</span>L<span style="color:#000;font-weight:bold">&lt;=</span>i
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>grid[i][i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>, <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;=</span>i<span style="color:#000;font-weight:bold">&lt;</span>n
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][j] <span style="color:#000;font-weight:bold">=</span> MAX_INT, <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;</span>j<span style="color:#000;font-weight:bold">&lt;</span>n
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span>grid[<span style="color:#099">1</span>][<span style="color:#099">1</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">palindromePartition</span>(s <span style="color:#458;font-weight:bold">string</span>, k <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> s <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;&#34;</span> <span style="color:#000;font-weight:bold">||</span> k <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#0086b3">len</span>(s) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(s)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    grid <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> n; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, k)
</span></span><span style="display:flex;"><span>        grid[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> n; i <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">1</span>; i<span style="color:#000;font-weight:bold">--</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> n; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            grid[i][j] = grid[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> s[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">!=</span> s[j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] {
</span></span><span style="display:flex;"><span>                grid[i][j] <span style="color:#000;font-weight:bold">+=</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>] = grid[<span style="color:#099">1</span>][<span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> j<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;j&lt;k;j<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        dp[<span style="color:#099">0</span>][j] = n
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">1</span>][<span style="color:#099">0</span>] = grid[<span style="color:#099">1</span>][<span style="color:#099">2</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">2</span>; i &lt; n; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>] = grid[<span style="color:#099">1</span>][i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; j &lt; i <span style="color:#000;font-weight:bold">&amp;&amp;</span> j &lt; k; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            dp[i][j] = (i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>) <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">for</span> l <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; l <span style="color:#000;font-weight:bold">&lt;=</span> i; l<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>                dp[i][j] = <span style="color:#900;font-weight:bold">min</span>(dp[i][j], dp[i<span style="color:#000;font-weight:bold">-</span>l][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>grid[i<span style="color:#000;font-weight:bold">-</span>l<span style="color:#000;font-weight:bold">+</span><span style="color:#099">2</span>][i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">min</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a &lt; b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode1745-分割回文串ivhttpsleetcode-cncomproblemspalindrome-partitioning-iv"><strong>题目<a href="https://leetcode-cn.com/problems/palindrome-partitioning-iv/">leetcode1745 分割回文串IV</a></strong></h3>
<p><strong>题解</strong></p>
<p>根据题意，能否分割三段，每段都是回文字符串，则首先需要快速检测回文串功能，根据以往经验，通过动态规划实现子串的回文的判断</p>
<p><code>dp[i][j]</code>表示<code>s[i:j]</code>是否是回文字符串</p>
<ul>
<li>当<code>s[i]==s[j]</code>时，
<ul>
<li><code>j-i == 1</code>，即子串只有2个字符，则有<code>dp[i][j] = true</code></li>
<li><code>j-i &gt; 1</code>，则有<code>dp[i][j] = dp[i-1][j-1]</code></li>
</ul>
</li>
<li>当<code>s[i]!=s[j]</code>时，则有<code>dp[i][j] = false</code></li>
</ul>
<p>单个字符自然是回文字符串</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i][i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">true</span>, <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;=</span>i<span style="color:#000;font-weight:bold">&lt;</span>m
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">checkPartitioning</span>(s <span style="color:#458;font-weight:bold">string</span>) <span style="color:#458;font-weight:bold">bool</span> {
</span></span><span style="display:flex;"><span>	length <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(s)
</span></span><span style="display:flex;"><span>	dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">bool</span>,length)
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i,_ <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> dp {
</span></span><span style="display:flex;"><span>		dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">bool</span>,length)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span>length<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">--</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">for</span> j<span style="color:#000;font-weight:bold">:=</span>i;j&lt;length;j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> j {
</span></span><span style="display:flex;"><span>				dp[i][j] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>			}<span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">==</span> j {
</span></span><span style="display:flex;"><span>				dp[i][j] = (s[i] <span style="color:#000;font-weight:bold">==</span> s[j])
</span></span><span style="display:flex;"><span>			}<span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>				dp[i][j] = (s[i] <span style="color:#000;font-weight:bold">==</span> s[j]) <span style="color:#000;font-weight:bold">&amp;&amp;</span> dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;length<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>;i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; j &lt; length<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span> dp[<span style="color:#099">0</span>][i] <span style="color:#000;font-weight:bold">&amp;&amp;</span> dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j] <span style="color:#000;font-weight:bold">&amp;&amp;</span> dp[j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][length<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] {
</span></span><span style="display:flex;"><span>				<span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="匹配问题">匹配问题</h2>
<h3 id="题目leetcode44-通配符匹配httpsleetcode-cncomproblemswildcard-matching"><strong>题目<a href="https://leetcode-cn.com/problems/wildcard-matching/">leetcode44 通配符匹配</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显是二维的dp问题，需要仔细考虑子问题的转换，思考的基本点是从<code>p[j]</code>的情况出发。</p>
<p><code>dp[i][j]</code>表示<code>s[:i]</code>能否使用<code>p[:j]</code>字符模式匹配上</p>
<ul>
<li>当<code>p[j]</code>是字符<code>a~z</code>时，
<ul>
<li>如果<code>s[i]==p[j]</code>，即有<code>dp[i][j] = dp[i-1][j-1]</code></li>
<li>如果<code>s[i]!=p[j]</code>，即有<code>dp[i][j] = false</code></li>
</ul>
</li>
<li>当<code>p[j]</code>是字符<code>？</code>时，可以匹配任意字符，则有<code>dp[i][j] = dp[i-1][j-1]</code></li>
<li>当<code>p[j]</code>是字符<code>*</code>时，由于匹配规则，需要考虑使用0次或多次
<ul>
<li>使用0次的情况时，考虑不需要<code>p[j]</code>，则问题转换成了子问题<code>dp[i][j-1]</code></li>
<li>使用多次的情况时，问题转换成了子问题<code>dp[i-1][j]</code>，因为<code>dp[i-1][j]</code>成立，则本次<code>p[j]</code>变换成<code>s[i]</code>即可实现匹配</li>
<li>综上考虑，则有<code>dp[i][j] = dp[i][j-1] || dp[i-1][j]</code></li>
</ul>
</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">true</span>              <span style="color:#998;font-style:italic">// 当字符串 s 和模式 p 均为空时，匹配成功
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">false</span>             <span style="color:#998;font-style:italic">//  空模式无法匹配非空字符串
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[<span style="color:#099">0</span>][j]<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">true</span>, p[j]<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;*&#39;</span>    <span style="color:#998;font-style:italic">//   星号才能匹配空字符串
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">isMatch</span>(s <span style="color:#458;font-weight:bold">string</span>, p <span style="color:#458;font-weight:bold">string</span>) <span style="color:#458;font-weight:bold">bool</span> {
</span></span><span style="display:flex;"><span>    m, n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(s), <span style="color:#0086b3">len</span>(p)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">bool</span>, m <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> m; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">bool</span>, n <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> n; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> p[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;*&#39;</span> {
</span></span><span style="display:flex;"><span>            dp[<span style="color:#099">0</span>][i] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>        } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">break</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> m; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> n; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> p[j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;*&#39;</span> {
</span></span><span style="display:flex;"><span>                dp[i][j] = dp[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">||</span> dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j]
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> p[j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;?&#39;</span> <span style="color:#000;font-weight:bold">||</span> s[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> p[j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] {
</span></span><span style="display:flex;"><span>                dp[i][j] = dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[m][n]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode10-正则表达式匹配httpsleetcode-cncomproblemsregular-expression-matching"><strong>题目<a href="https://leetcode-cn.com/problems/regular-expression-matching/">leetcode10 正则表达式匹配</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显是二维的dp问题，需要仔细考虑子问题的转换，思考的基本点是从<code>p[j]</code>的情况出发。</p>
<p><code>dp[i][j]</code>表示<code>s[:i]</code>能否使用<code>p[:j]</code>字符模式匹配上</p>
<ul>
<li>当<code>p[j]</code>是字符<code>a~z</code>时，
<ul>
<li>如果<code>s[i]==p[j]</code>，即有<code>dp[i][j] = dp[i-1][j-1]</code></li>
<li>如果<code>s[i]!=p[j]</code>，即有<code>dp[i][j] = false</code></li>
</ul>
</li>
<li>当<code>p[j]</code>是字符<code>.</code>时，可以匹配任意字符，则有<code>dp[i][j] = dp[i-1][j-1]</code></li>
<li>当<code>p[j]</code>是字符<code>*</code>时，基于匹配规则，首先查看是否可以使用<code>*</code>的变换功能
<ul>
<li>如果<code>p[j-1] != '.' &amp;&amp; p[j-1] != s[i]</code>，则只能使用<code>*</code>的匹配，视为使用0次的情况时，考虑跳过字符<code>p[j-1]</code>和<code>p[j]</code>，问题转换成了子问题<code>dp[i][j-2]</code></li>
<li>如果<code>p[j-1] == '.'  || p[j-1] == s[i]</code>，则可以使用<code>*</code>的匹配功能，需要考虑使用0次和多次的情况
<ul>
<li>使用0次，则转换成了子问题<code>dp[i][j-2]</code></li>
<li>使用多次，则转换成了子问题<code>dp[i-1][j]</code></li>
</ul>
</li>
<li>综上考虑，是<code>dp[i][j]</code>的所有考虑情况</li>
</ul>
</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>dp[0][0]=true              // 当字符串 s 和模式 p 均为空时，匹配成功
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">isMatch</span>(s <span style="color:#458;font-weight:bold">string</span>, p <span style="color:#458;font-weight:bold">string</span>) <span style="color:#458;font-weight:bold">bool</span> {
</span></span><span style="display:flex;"><span>    m, n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(s), <span style="color:#0086b3">len</span>(p)
</span></span><span style="display:flex;"><span>    matches <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">func</span>(i, j <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">bool</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> p[j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;.&#39;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> s[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> p[j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    f <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">bool</span>, m <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i &lt; <span style="color:#0086b3">len</span>(f); i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        f[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">bool</span>, n <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    f[<span style="color:#099">0</span>][<span style="color:#099">0</span>] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> m; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> n; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> p[j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;*&#39;</span> {
</span></span><span style="display:flex;"><span>                f[i][j] = f[i][j] <span style="color:#000;font-weight:bold">||</span> f[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>]
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> <span style="color:#900;font-weight:bold">matches</span>(i, j <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>) {
</span></span><span style="display:flex;"><span>                    f[i][j] = f[i][j] <span style="color:#000;font-weight:bold">||</span> f[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j]
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> <span style="color:#900;font-weight:bold">matches</span>(i, j) {
</span></span><span style="display:flex;"><span>                f[i][j] = f[i][j] <span style="color:#000;font-weight:bold">||</span> f[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> f[m][n]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="博弈问题">博弈问题</h2>
<h3 id="题目leetcode486-预测赢家httpsleetcode-cncomproblemspredict-the-winner"><strong>题目<a href="https://leetcode-cn.com/problems/predict-the-winner/">leetcode486 预测赢家</a></strong></h3>
<p><strong>题解</strong></p>
<p>由于可以拿取前后两处的石头，很明显，考虑子问题的时候需要2个变量标识取值范围的变动</p>
<p>定义二维数组<code>dp[i][j]</code> 表示当剩下的数字中拿取下标 <code>i</code> 到下标 <code>j</code> 时，即在下标范围<code>[i,j]</code>中，当前玩家与另一个玩家的分数之差的最大值。</p>
<p>当 <code>i&lt;j </code>时，当前玩家可以选择取走 <code>nums[i]</code> 或 <code>nums[j]</code>，然后轮到另一个玩家在剩下的石子堆中取走石子。在两种方案中，当前玩家会选择最优的方案，使得自己的石子数量最大化。</p>
<p>因此可以得到如下状态转移方程：<code>dp[i][j]=max(nums[i]−dp[i+1][j],nums[j]−dp[i][j−1])</code></p>
<p>最后判断 <code>dp[0][nums.length−1] </code>的值，如果大于 0，则玩家1的分数大于玩家2的分数，因玩家1赢得比赛，否则玩家2赢得比赛。</p>
<ul>
<li>只有当<code>i≤j</code>时，选取数值有意义，因此当 <code>i&gt;j</code>时，<code>dp[i][j]=0</code>。</li>
<li>当<code>i=j</code> 时，只剩下一堆数值中，当前玩家只能取走唯一的数值，因此对于所有<code>0≤i&lt;nums.length</code>，都有 <code>dp[i][i]=nums[i]</code>。
​</li>
</ul>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">PredictTheWinner</span>(nums []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">bool</span> {
</span></span><span style="display:flex;"><span>    length <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(nums)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, length)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i &lt; length; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, length)
</span></span><span style="display:flex;"><span>        dp[i][i] = nums[i]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> length <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">2</span>; i <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">0</span>; i<span style="color:#000;font-weight:bold">--</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; j &lt; length; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            dp[i][j] = <span style="color:#900;font-weight:bold">max</span>(nums[i] <span style="color:#000;font-weight:bold">-</span> dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j], nums[j] <span style="color:#000;font-weight:bold">-</span> dp[i][j <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[<span style="color:#099">0</span>][length <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(x, y <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> x &gt; y {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> y
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode877-石子游戏httpsleetcode-cncomproblemsstone-game"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game/">leetcode877 石子游戏</a></strong></h3>
<p><strong>题解</strong>
由于可以拿取前后两处的石头，很明显考虑子问题的时候需要2个变量标识取值范围的变动</p>
<p>定义二维数组<code>dp[i][j]</code> 表示当剩下的石子堆为下标 <code>i</code> 到下标 <code>j</code> 时，即在下标范围<code>[i,j]</code>中，当前玩家与另一个玩家的石子数量之差的最大值。</p>
<p>当 <code>i&lt;j </code>时，当前玩家可以选择取走 <code>piles[i]</code> 或 <code>piles[j]</code>，然后轮到另一个玩家在剩下的石子堆中取走石子。在两种方案中，当前玩家会选择最优的方案，使得自己的石子数量最大化。</p>
<p>因此可以得到如下状态转移方程：<code>dp[i][j]=max(piles[i]−dp[i+1][j],piles[j]−dp[i][j−1])</code></p>
<p>最后判断 <code>dp[0][piles.length−1] </code>的值，如果大于 0，则 Alice 的石子数量大于Bob 的石子数量，因Alice 赢得比赛，否则 Bob 赢得比赛。</p>
<ul>
<li>只有当<code>i≤j</code>时，剩下的石子堆才有意义，因此当 <code>i&gt;j</code>时，<code>dp[i][j]=0</code>。</li>
<li>当<code>i=j</code> 时，只剩下一堆石子，当前玩家只能取走这堆石子，因此对于所有<code>0≤i&lt;piles.length</code>，都有 <code>dp[i][i]=piles[i]</code>。
​</li>
</ul>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">stoneGame</span>(piles []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">bool</span> {
</span></span><span style="display:flex;"><span>    length <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(piles)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, length)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i &lt; length; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, length)
</span></span><span style="display:flex;"><span>        dp[i][i] = piles[i]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> length <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">2</span>; i <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">0</span>; i<span style="color:#000;font-weight:bold">--</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; j &lt; length; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            dp[i][j] = <span style="color:#900;font-weight:bold">max</span>(piles[i] <span style="color:#000;font-weight:bold">-</span> dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j], piles[j] <span style="color:#000;font-weight:bold">-</span> dp[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[<span style="color:#099">0</span>][length<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] &gt; <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(x, y <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> x &gt; y {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> y
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode1140-石子游戏iihttpsleetcode-cncomproblemsstone-game-ii"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-ii/">leetcode1140 石子游戏II</a></strong></h3>
<p><strong>题解</strong>
很明显，考虑子问题的时候M是一个变量，由于每次拿取的数量是不定的，但是剩余可拿取的石子数和M是不变的，因此有逆向思考</p>
<p><code>dp[i][j]</code>表示剩余<code>[i : len - 1]</code>堆时，<code>M = j</code>的情况下，先取的人能获得的最多石子数</p>
<ul>
<li>考虑<code>i + 2M &gt;= len</code>时，可以获取剩余所有石子，因此有<code>,dp[i][M] = sum[i : len - 1]</code></li>
<li>考虑<code>i + 2M &lt; len</code>时，可以获取的最大石子数是剩余所有石子总和减去下一轮先手可获得的最大石子数，因此有<code>dp[i][M] = max(dp[i][M], sum[i : len - 1] - dp[i + x][max(M, x)])</code>, 其中 <code>1 &lt;= x &lt;= 2M</code></li>
</ul>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">stoneGameII</span>(piles []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>	dp<span style="color:#000;font-weight:bold">:=</span><span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>,<span style="color:#0086b3">len</span>(piles))
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> k,_<span style="color:#000;font-weight:bold">:=</span><span style="color:#000;font-weight:bold">range</span> dp{
</span></span><span style="display:flex;"><span>		dp[k]=<span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>,<span style="color:#0086b3">len</span>(piles)<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">//零和博弈的题多半是从后往前dp
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	sum<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#0086b3">len</span>(dp)<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">--</span>{
</span></span><span style="display:flex;"><span>		sum<span style="color:#000;font-weight:bold">+=</span>piles[i]
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">for</span> M<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;M<span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#0086b3">len</span>(piles);M<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span> i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">2</span><span style="color:#000;font-weight:bold">*</span>M<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#0086b3">len</span>(piles){
</span></span><span style="display:flex;"><span>				dp[i][M]=sum
</span></span><span style="display:flex;"><span>			}<span style="color:#000;font-weight:bold">else</span>{
</span></span><span style="display:flex;"><span>				<span style="color:#000;font-weight:bold">for</span> x<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">+</span>x<span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#0086b3">len</span>(piles)<span style="color:#000;font-weight:bold">&amp;&amp;</span>x<span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#099">2</span><span style="color:#000;font-weight:bold">*</span>M;x<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>					dp[i][M]=<span style="color:#900;font-weight:bold">max</span>(dp[i][M],sum<span style="color:#000;font-weight:bold">-</span>dp[i<span style="color:#000;font-weight:bold">+</span>x][<span style="color:#900;font-weight:bold">max</span>(M,x)])
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> dp[<span style="color:#099">0</span>][<span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(i <span style="color:#458;font-weight:bold">int</span>, j <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> i &gt; j {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> i
</span></span><span style="display:flex;"><span>	} <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> j
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode1406-石子游戏iiihttpsleetcode-cncomproblemsstone-game-iii"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-iii/">leetcode1406 石子游戏III</a></strong></h3>
<p><strong>题解</strong></p>
<p>当对于当前状态的选择，需要考虑到以后的选择的影响的时候。这个时候，往往需要倒过来考虑，从后往前递推，构造dp公式
很明显，本题应该是<a href="%E7%9F%B3%E5%AD%90%E6%B8%B8%E6%88%8FII">石子游戏II</a>的一个变种</p>
<p><code>dp[i]</code>表示剩余<code>[i : len - 1]</code>堆时，先取的人能获得的最多石子数，最后结果判断<code>dp[0]</code>和总数之间的大小，判断最优策略的结果</p>
<ul>
<li>考虑<code>i &gt;= len</code>时，无法再选取石子了，因此有<code>,dp[i] = 0</code></li>
<li>考虑<code>i+j &lt; len, 1&lt;=j&lt;=3</code>时，先手可以尝试获取<code>1-3</code>堆石头数，而其中最大收益便是，剩余可以获取的石子数总和减去下一轮先手可获得的最大石子数，因此有<code>dp[i] = max(dp[i], sum[i : len - 1] - dp[i+j]</code>, 其中 <code>1 &lt;= j &lt;= 3 &amp;&amp; i+j &lt; len</code></li>
</ul>
<p><code>dp[len]=0</code></p>
<p>​
<strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">stoneGameIII</span>(stoneValue []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">string</span> {
</span></span><span style="display:flex;"><span>	n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(stoneValue)
</span></span><span style="display:flex;"><span>	suffixSum <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n, n)
</span></span><span style="display:flex;"><span>	suffixSum[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] = stoneValue[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>; i <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">0</span>; i<span style="color:#000;font-weight:bold">--</span> {
</span></span><span style="display:flex;"><span>		suffixSum[i] = suffixSum[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> stoneValue[i]
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	f <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>	f[n] = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">0</span>; i<span style="color:#000;font-weight:bold">--</span> {
</span></span><span style="display:flex;"><span>		bestj <span style="color:#000;font-weight:bold">:=</span> f[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">2</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">3</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> j <span style="color:#000;font-weight:bold">&lt;=</span> n; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>			bestj = <span style="color:#900;font-weight:bold">min</span>(bestj, f[j])
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		f[i] = suffixSum[i] <span style="color:#000;font-weight:bold">-</span> bestj
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	total <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> stoneValue {
</span></span><span style="display:flex;"><span>		total <span style="color:#000;font-weight:bold">+=</span> stoneValue[i]	
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> f[<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">*</span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">==</span> total {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span>  <span style="color:#d14">&#34;Tie&#34;</span>
</span></span><span style="display:flex;"><span>	} 
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> f[<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">2</span> &gt; total {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;Alice&#34;</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> f[<span style="color:#099">0</span>]	<span style="color:#000;font-weight:bold">*</span><span style="color:#099">2</span> &lt; total {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;Bob&#34;</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">min</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> a &lt; b {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode1510-石子游戏ivhttpsleetcode-cncomproblemsstone-game-iv"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-iv/">leetcode1510 石子游戏IV</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显，本题应该是<a href="%E7%9F%B3%E5%AD%90%E6%B8%B8%E6%88%8FIII">石子游戏III</a>的一个变种，这里还是逆向思维，考虑最后的情况，然后往前推断</p>
<p><code>dp[i]</code>表示剩余<code>i</code>个石子时，先手的输赢状态</p>
<ul>
<li>考虑<code>i = 0</code>时，无法再选取石子了，因此有<code>,dp[0] = 0</code></li>
<li>考虑这一轮先手选取时，先手可以尝试获取<code>j*j</code>的石头数，很明显这一轮先手选择了<code>j*j</code>的石子后，在剩余的石子数的情况下，如果下一轮的先手存在必败的结局，则这一轮先手就可以依靠这条链路选择必胜的路径，因此有<code>dp[i] = true, any dp[i-j*j]=false</code>, 其中 <code>j*j &lt;= i</code></li>
</ul>
<p>当没有石子可以提取时，先手就输了，因此有<code>dp[0]=false</code>
​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">winnerSquareGame</span>(n <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">bool</span> {
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">bool</span>,n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;j<span style="color:#000;font-weight:bold">*</span>j<span style="color:#000;font-weight:bold">&lt;=</span>i;j<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> !dp[i<span style="color:#000;font-weight:bold">-</span>j<span style="color:#000;font-weight:bold">*</span>j] {
</span></span><span style="display:flex;"><span>                dp[i] = <span style="color:#000;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">break</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n]
</span></span><span style="display:flex;"><span>}		
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode1563-石子游戏vhttpsleetcode-cncomproblemsstone-game-v"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-v/">leetcode1563 石子游戏V</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显，本题的子问题变量只有左右两边的界限</p>
<p><code>dp[i][j]</code>表示Alice选取范围在<code>i-j</code>之间选取连续石子活动的最大收益
注意本题还有累加和的优化</p>
<ul>
<li>按题目的流程考虑，在范围<code>i-j</code>之间选取下标<code>t</code>开始考虑</li>
<li>如果<code>sum(i,t)&lt;sum(t+1,j)</code>时，则Alice可以选择<code>sum(i,t)</code>的数值和，则有<code>dp[i][j]=dp[i][t]+sum(i,t)</code></li>
<li>如果<code>sum(i,t)&gt;sum(t+1,j)</code>时，则Alice可以选择<code>sum(i,t)</code>的数值和，则有<code>dp[i][j]=dp[t+1][j]+sum(t+1,j)</code></li>
<li>如果<code>sum(i,t)=sum(t+1,j)</code>时，则Alice可以选择<code>sum(i,t)</code>的数值和，则有<code>dp[i][j]=max(dp[t+1][j],dp[i][t])+sum(i,t)</code></li>
</ul>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">stoneGameV</span>(stoneValue []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(stoneValue)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, n)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> dp {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    prefix <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> n; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        prefix[i] = prefix[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> stoneValue[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> l <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">2</span>; l <span style="color:#000;font-weight:bold">&lt;=</span> n; l<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">+</span> l <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span> &lt; n; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            j <span style="color:#000;font-weight:bold">:=</span> i <span style="color:#000;font-weight:bold">+</span> l <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">for</span> m <span style="color:#000;font-weight:bold">:=</span> i; m &lt; j; m<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>                suml <span style="color:#000;font-weight:bold">:=</span> prefix[m <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">-</span> prefix[i]
</span></span><span style="display:flex;"><span>                sumr <span style="color:#000;font-weight:bold">:=</span> prefix[j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">-</span> prefix[m <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> suml &gt; sumr {
</span></span><span style="display:flex;"><span>                    dp[i][j] = <span style="color:#900;font-weight:bold">max</span>(dp[i][j], sumr <span style="color:#000;font-weight:bold">+</span> dp[m <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j])
</span></span><span style="display:flex;"><span>                } <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> sumr &gt; suml {
</span></span><span style="display:flex;"><span>                    dp[i][j] = <span style="color:#900;font-weight:bold">max</span>(dp[i][j], suml <span style="color:#000;font-weight:bold">+</span> dp[i][m])
</span></span><span style="display:flex;"><span>                } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                    dp[i][j] = <span style="color:#900;font-weight:bold">max</span>(dp[i][j], suml <span style="color:#000;font-weight:bold">+</span> <span style="color:#900;font-weight:bold">max</span>(dp[i][m], dp[m <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j]))
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[<span style="color:#099">0</span>][n <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a &gt; b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode1690-石子游戏viihttpsleetcode-cncomproblemsstone-game-vii"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-vii/">leetcode1690 石子游戏VII</a></strong></h3>
<p><strong>题解</strong>
很明显，本题的思考和之前的差不多</p>
<p><code>dp[i][j]</code>表示选取范围在<code>i-j</code>之间，当前玩家与另一个玩家的石子数量之差的最大值。</p>
<ul>
<li>考虑<code>i=j</code>时，可以获取剩余所有石子和是0，因此有<code>,dp[i][i]=0</code></li>
<li>考虑<code>i-j=1</code>时，有<code>,dp[i][j] = max(stones[i],stones[j])</code></li>
<li>考虑<code>i-j&gt;1</code>时，有<code>dp[i][j] = max(sum[i][j-1]-dp[i][j-1], sum[i+1][j] - dp[i+1][j])</code></li>
</ul>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a &gt; b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">stoneGameVII</span>(stones []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    sums <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, <span style="color:#0086b3">len</span>(stones)<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#0086b3">len</span>(stones); i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        sums[i] = sums[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> stones[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, <span style="color:#0086b3">len</span>(stones))
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i &lt; <span style="color:#0086b3">len</span>(stones); i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, <span style="color:#0086b3">len</span>(stones))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(stones) <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">2</span>; i <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">0</span>; i<span style="color:#000;font-weight:bold">--</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>; j &lt; <span style="color:#0086b3">len</span>(stones); j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            dp[i][j] = <span style="color:#900;font-weight:bold">max</span>(sums[j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">-</span> sums[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">-</span> dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j], sums[j] <span style="color:#000;font-weight:bold">-</span> sums[i] <span style="color:#000;font-weight:bold">-</span> dp[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[<span style="color:#099">0</span>][<span style="color:#0086b3">len</span>(stones) <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode1872-石子游戏viiihttpsleetcode-cncomproblemsstone-game-viii"><strong>题目<a href="https://leetcode-cn.com/problems/stone-game-viii/">leetcode1872 石子游戏VIII</a></strong></h3>
<p><strong>题解</strong></p>
<p>当对于当前状态的选择，需要考虑到以后的选择的影响的时候。这个时候，往往需要倒过来考虑，从后往前递推，构造dp公式
很明显，本题很像<a href="%E7%9F%B3%E5%AD%90%E6%B8%B8%E6%88%8FIII">石子游戏III</a></p>
<p><code>dp[i]</code>表示剩余<code>[i : len - 1]</code>选择时，先手与后手获取的分数之差</p>
<ul>
<li>如果 Alice 没有选择 <code>i</code> 作为下标 <code>u</code>，那么她需要在 <code>[i+1,n) </code>的范围内进行选择，因此有状态转移方程：<code>f[i]=f[i+1]</code></li>
<li>如果 Alice 选择了 <code>i</code> 作为下标 <code>u</code>，那么她获得了 <code>sum[0-i]</code>的分数，并且轮到 Bob 在剩余的范围 <code>[i+1,n)</code> 中进行选择。由于 Bob 会采用最优策略，因此在 <code>[i+1,n)</code> 的范围内，Bob 与 Alice 分数的最大差值就为 <code>f[i+1]</code>，因此有状态转移方程：<code>f[i]=sum[0-i]−f[i+1]</code></li>
<li>最终转移方程式<code>f[i]=max(f[i+1],sum[0-i]−f[i+1])</code></li>
<li>考虑必须选择1个石子，因此最终的答案即为 <code>f[1]</code></li>
</ul>
<p>考虑<code>i=n-1</code>时，<code>dp[i+1]</code>是边界，因此考虑<code>dp[n-1]</code>为边界，<code>i</code>从<code>n-2</code>开始
<code>dp[n-1]=sum[0-n]</code>
​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">stoneGameVIII</span>(a []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>	sum <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> _, v <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> a {
</span></span><span style="display:flex;"><span>		sum <span style="color:#000;font-weight:bold">+=</span> v
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(a)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>,n)
</span></span><span style="display:flex;"><span>    dp[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]=sum
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> n <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">2</span>; i <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">1</span>; i<span style="color:#000;font-weight:bold">--</span> {
</span></span><span style="display:flex;"><span>        sum <span style="color:#000;font-weight:bold">-=</span> a[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>		dp[i] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>],sum <span style="color:#000;font-weight:bold">-</span> dp[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> dp[<span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> { <span style="color:#000;font-weight:bold">if</span> b &gt; a { <span style="color:#000;font-weight:bold">return</span> b }; <span style="color:#000;font-weight:bold">return</span> a }
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="股票买卖问题">股票买卖问题</h2>
<p>给定一个数组<code>nums</code>，其中第<code>i</code>个元素表示股票当天的价格<code>nums[i]</code>，求解最多完成<code>k</code>次交易的最大收益。
注意：不能同时参与多笔交易，每次买入前必须卖掉手头的股票。</p>
<p><strong>寻找子问题</strong></p>
<p>很明显寻求子问题的出发点有2个，一个是<code>i</code>天的交易，一个是最多允许的<code>k</code>次交易数，不过只考虑这两个变量是无法描述出一个合理的子问题的，我们还需要考虑一个状态问题，即手里是否有股票，因此子问题定义如下</p>
<p><strong>定义问题</strong></p>
<p><code>dp[i][j][0]</code>表示在<code>i</code>天内最多交易<code>j</code>次的最大收益，并且手里<strong>没有股票</strong>
<code>dp[i][j][1]</code>表示在<code>i</code>天内最多交易<code>j</code>次的最大收益，并且手里<strong>还有股票</strong></p>
<p><strong>选择</strong></p>
<ul>
<li>考虑第<code>i</code>天内交易<code>j</code>次，手里没有股票的情况
<ul>
<li>第<code>i</code>天不交易股票，手里没有股票<code>dp[i-1][j][0]</code></li>
<li>第<code>i</code>天交易股票，手里有股票要卖掉，<code>dp[i-1][j][1]+nums[i]</code></li>
<li>综上所述，最大的收益是<code>dp[i][j][0] = max(dp[i-1][j][0],dp[i-1][j][1]+nums[i])</code></li>
</ul>
</li>
<li>考虑第<code>i</code>天内交易<code>j</code>次，手里有股票的情况
<ul>
<li>第<code>i</code>天不交易股票，手里有股票<code>dp[i-1][j][1]</code></li>
<li>第<code>i</code>天交易股票，手里没有股票，则需要交易买一笔股票，<code>dp[i-1][j-1][0]-nums[i]</code></li>
<li>综上所述，最大的收益是<code>dp[i][j][1] = max(dp[i-1][j][1],dp[i-1][j-1][0]-nums[i])</code></li>
</ul>
</li>
</ul>
<p><strong>边界</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>                <span style="color:#998;font-style:italic">// 手里没票，也无数据交易，结果是0
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">=</span>MIN_INT          <span style="color:#998;font-style:italic">// 不存在这种情况，所以是负无穷
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][<span style="color:#099">0</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>                 <span style="color:#998;font-style:italic">//  手里没票，0次交易，结果是0
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][<span style="color:#099">0</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">=</span>MIN_INT           <span style="color:#998;font-style:italic">//  不存在这种情况，所以是负无穷
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode121-买卖股票的最佳时机httpsleetcode-cncomproblemsbest-time-to-buy-and-sell-stock"><strong>题目<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/">leetcode121 买卖股票的最佳时机</a></strong></h3>
<p><strong>题解</strong></p>
<p>参考<em>股票买卖问题-总纲</em></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 参考大纲，本题的k定义为1
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][<span style="color:#099">1</span>][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>nums[i])
</span></span><span style="display:flex;"><span>dp[i][<span style="color:#099">1</span>][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>nums[i])
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// dp[i-1][0][0] = 0, 简化上面的公式
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>nums[i])
</span></span><span style="display:flex;"><span>dp[i][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>],<span style="color:#000;font-weight:bold">-</span>nums[i])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span>nums[<span style="color:#099">0</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">maxProfit</span>(prices []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(prices)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>,n)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>,<span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>            dp[i][<span style="color:#099">0</span>] = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>            dp[i][<span style="color:#099">1</span>] = <span style="color:#000;font-weight:bold">-</span>prices[i]
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>prices[i])
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">1</span>] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>],<span style="color:#000;font-weight:bold">-</span>prices[i])
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a,b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a&gt;b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode122-买卖股票的最佳时机iihttpsleetcode-cncomproblemsbest-time-to-buy-and-sell-stock-ii"><strong>题目<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/">leetcode122 买卖股票的最佳时机II</a></strong></h3>
<p><strong>题解</strong></p>
<p>参考<em>股票买卖问题-总纲</em></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 参考大纲，本题的k定义为无穷大
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][k][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>nums[i])
</span></span><span style="display:flex;"><span>dp[i][k][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>nums[i])
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 由于k取值是无穷大，因此公式里剔除k的考虑
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>nums[i])
</span></span><span style="display:flex;"><span>dp[i][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>nums[i])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span>nums[<span style="color:#099">0</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">maxProfit</span>(prices []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(prices)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>,n)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>,<span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>            dp[i][<span style="color:#099">0</span>] = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>            dp[i][<span style="color:#099">1</span>] = <span style="color:#000;font-weight:bold">-</span>prices[i]
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>prices[i])
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">1</span>] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>prices[i])
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a,b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a&gt;b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode123-买卖股票的最佳时机iiihttpsleetcode-cncomproblemsbest-time-to-buy-and-sell-stock-iii"><strong>题目<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/">leetcode123 买卖股票的最佳时机III</a></strong></h3>
<p><strong>题解</strong></p>
<p>参考<em>股票买卖问题-总纲</em></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 参考大纲，本题的k定义为2
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][k][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>nums[i])
</span></span><span style="display:flex;"><span>dp[i][k][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>nums[i])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span>nums[<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">1</span>][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">1</span>][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span>nums[<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">2</span>][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][<span style="color:#099">2</span>][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span>nums[<span style="color:#099">0</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">maxProfit</span>(prices []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(prices)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][][]<span style="color:#458;font-weight:bold">int</span>,n)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>,<span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>,<span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">1</span>] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>,<span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">2</span>] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>,<span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> k<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">2</span>;k<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">1</span>;k<span style="color:#000;font-weight:bold">--</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>                dp[i][<span style="color:#099">0</span>][<span style="color:#099">0</span>] = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>                dp[i][<span style="color:#099">0</span>][<span style="color:#099">1</span>] = <span style="color:#000;font-weight:bold">-</span>prices[i]
</span></span><span style="display:flex;"><span>                dp[i][<span style="color:#099">1</span>][<span style="color:#099">0</span>] = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>                dp[i][<span style="color:#099">1</span>][<span style="color:#099">1</span>] = <span style="color:#000;font-weight:bold">-</span>prices[i]
</span></span><span style="display:flex;"><span>                dp[i][<span style="color:#099">2</span>][<span style="color:#099">0</span>] = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>                dp[i][<span style="color:#099">2</span>][<span style="color:#099">1</span>] = <span style="color:#000;font-weight:bold">-</span>prices[i]
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            dp[i][k][<span style="color:#099">0</span>] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>prices[i])
</span></span><span style="display:flex;"><span>            dp[i][k][<span style="color:#099">1</span>] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>prices[i])
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">2</span>][<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a,b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a&gt;b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode188-买卖股票的最佳时机ivhttpsleetcode-cncomproblemsbest-time-to-buy-and-sell-stock-iv"><strong>题目<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/">leetcode188 买卖股票的最佳时机IV</a></strong></h3>
<p><strong>题解</strong></p>
<p>参考<em>股票买卖问题-总纲</em></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 参考大纲
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][k][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>nums[i])
</span></span><span style="display:flex;"><span>dp[i][k][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>nums[i])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][k][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][k][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span>nums[<span style="color:#099">0</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>​
<strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">maxProfit</span>(k <span style="color:#458;font-weight:bold">int</span>, prices []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(prices)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> n <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][][]<span style="color:#458;font-weight:bold">int</span>,n)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>,k<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> kk<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;kk<span style="color:#000;font-weight:bold">&lt;=</span>k;kk<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>            dp[i][kk] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>,<span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">for</span> kk<span style="color:#000;font-weight:bold">:=</span>k;kk<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">1</span>;kk<span style="color:#000;font-weight:bold">--</span>{
</span></span><span style="display:flex;"><span>                dp[i][kk][<span style="color:#099">0</span>] = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>                dp[i][kk][<span style="color:#099">1</span>] = <span style="color:#000;font-weight:bold">-</span>prices[i]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> kk<span style="color:#000;font-weight:bold">:=</span>k;kk<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">1</span>;kk<span style="color:#000;font-weight:bold">--</span>{
</span></span><span style="display:flex;"><span>            dp[i][kk][<span style="color:#099">0</span>] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][kk][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][kk][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>prices[i])
</span></span><span style="display:flex;"><span>            dp[i][kk][<span style="color:#099">1</span>] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][kk][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][kk<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>prices[i])
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a,b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a&gt;b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目-买卖股票的最佳时机v"><strong>题目 买卖股票的最佳时机V</strong></h3>
<p>给定一个数组<code>nums</code>，其中第<code>i</code>个元素表示股票当天的价格<code>nums[i]</code>，每天都可以随时交易，每次交易后需要冷静期1天，求解交易后的最大收益
注意：不能同时参与多笔交易，每次买入前必须卖掉手头的股票</p>
<p><strong>题解</strong></p>
<p>参考<em>股票买卖问题-总纲</em></p>
<p><strong>边界</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 参考大纲 表达式定义如下
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][k][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>nums[i])
</span></span><span style="display:flex;"><span>dp[i][k][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>nums[i])
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 考虑 k定位为无穷大，并且新增了冷静期，即i的取值有影响
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>nums[i])
</span></span><span style="display:flex;"><span>dp[i][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>nums[i])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][k][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][k][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span>nums[<span style="color:#099">0</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目-买卖股票的最佳时机vi"><strong>题目 买卖股票的最佳时机VI</strong></h3>
<p>给定一个数组<code>nums</code>，其中第<code>i</code>个元素表示股票当天的价格<code>nums[i]</code>，每天都可以随时交易，每次交易后需要提交<code>fee</code>手续费，求解交易后的最大收益</p>
<p>注意：不能同时参与多笔交易，每次买入前必须卖掉手头的股票</p>
<p><strong>题解</strong></p>
<p>参考<em>股票买卖问题-总纲</em></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 参考大纲 表达式定义如下
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][k][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>nums[i])
</span></span><span style="display:flex;"><span>dp[i][k][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][k<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>nums[i])
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 考虑 k定位为无穷大，并且新增了手续费
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>nums[i])
</span></span><span style="display:flex;"><span>dp[i][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>nums[i]<span style="color:#000;font-weight:bold">-</span>fee)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][k][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][k][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span>nums[<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">-</span>fee
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="打家劫舍问题">打家劫舍问题</h2>
<h3 id="题目leetcode198-打家劫舍httpsleetcode-cncomproblemshouse-robber"><strong>题目<a href="https://leetcode-cn.com/problems/house-robber/">leetcode198 打家劫舍</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显，这题的子问题就是按房屋的变动获取最值</p>
<p><code>dp[i]</code>表示偷取第<code>0~i</code>间屋子可以获取的最大利益，最终结果是<code>dp[n-1]</code></p>
<ul>
<li>考虑偷取第<code>i</code>间屋子
<ul>
<li>则可以获取的收益是<code>dp[i-2] + nums[i]</code></li>
</ul>
</li>
<li>考虑不偷取第<code>i</code>间屋子
<ul>
<li>则可以获取的收益是<code>dp[i-1]</code></li>
</ul>
</li>
<li>综上所述，<code>dp[i] = max(dp[i-1],dp[i-2]+nums[i]</code></li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> nums[<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(nums[<span style="color:#099">1</span>],nums[<span style="color:#099">0</span>])
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">rob</span>(nums []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> <span style="color:#0086b3">len</span>(nums) <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> <span style="color:#0086b3">len</span>(nums) <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> nums[<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, <span style="color:#0086b3">len</span>(nums))
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">0</span>] = nums[<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">1</span>] = <span style="color:#900;font-weight:bold">max</span>(nums[<span style="color:#099">0</span>], nums[<span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">2</span>; i &lt; <span style="color:#0086b3">len</span>(nums); i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>] <span style="color:#000;font-weight:bold">+</span> nums[i], dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[<span style="color:#0086b3">len</span>(nums)<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(x, y <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> x &gt; y {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> y
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode213-打家劫舍iihttpsleetcode-cncomproblemshouse-robber-ii"><strong>题目<a href="https://leetcode-cn.com/problems/house-robber-ii/">leetcode213 打家劫舍II</a></strong></h3>
<p><strong>题解</strong></p>
<p>参考上一题的<em>打家劫舍</em>很明显，这题的限制是首尾不能一起偷取，因此我们可以将圈划分开，处理成2段偷取范围，即可解得</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> nums[<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">max</span>(nums[<span style="color:#099">1</span>],nums[<span style="color:#099">0</span>])
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">_rob</span>(nums []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> <span style="color:#0086b3">len</span>(nums) <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> <span style="color:#0086b3">len</span>(nums) <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> nums[<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, <span style="color:#0086b3">len</span>(nums))
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">0</span>] = nums[<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">1</span>] = <span style="color:#900;font-weight:bold">max</span>(nums[<span style="color:#099">0</span>], nums[<span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">2</span>; i &lt; <span style="color:#0086b3">len</span>(nums); i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#900;font-weight:bold">max</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>] <span style="color:#000;font-weight:bold">+</span> nums[i], dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[<span style="color:#0086b3">len</span>(nums)<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">rob</span>(nums []<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(nums)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> n <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> nums[<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> n <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">2</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#900;font-weight:bold">max</span>(nums[<span style="color:#099">0</span>], nums[<span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#900;font-weight:bold">max</span>(<span style="color:#900;font-weight:bold">_rob</span>(nums[:n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]), <span style="color:#900;font-weight:bold">_rob</span>(nums[<span style="color:#099">1</span>:]))
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a &gt; b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode337-打家劫舍iiihttpsleetcode-cncomproblemshouse-robber-iii"><strong>题目<a href="https://leetcode-cn.com/problems/house-robber-iii/">leetcode337 打家劫舍III</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显，这题的子问题就是按树节点来划分，树相关的问题，递归的思路很快就有解法
不过只是考虑到<code>p</code>节点还不够完全描述出问题，在走到<code>p</code>节点的时候，需要考虑是否偷取该节点，因此还需要一个状态标识</p>
<p><code>dp[p][0]</code>表示小偷走到<code>p</code>节点开始，没有偷取<code>p</code>的财务，可以盗取的最大收益
<code>dp[p][1]</code>表示小偷走到<code>p</code>节点开始，偷取<code>p</code>的财务，可以盗取的最大收益
最终结果是<code>max(dp[root][0],dp[root][1])</code></p>
<ul>
<li>考虑偷取<code>p</code>节点，则<code>p</code>的左右子树节点就不能偷取了
<ul>
<li>则可以获取的收益是<code>dp[p][1] = dp[p.left][0] + dp[p.left][0]+p.value</code></li>
</ul>
</li>
<li>考虑不偷取<code>p</code>节点，则可以偷取左右子树
<ul>
<li>则可以获取的收益是<code>dp[p][0] = max(dp[p.left][0],dp[p.left][1])+max(dp[p.right][0],dp[p.right][1])</code></li>
</ul>
</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[null][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>dp[null][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​
<strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">rob</span>(root <span style="color:#000;font-weight:bold">*</span>TreeNode) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    val <span style="color:#000;font-weight:bold">:=</span> <span style="color:#900;font-weight:bold">dfs</span>(root)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#900;font-weight:bold">max</span>(val[<span style="color:#099">0</span>], val[<span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">dfs</span>(node <span style="color:#000;font-weight:bold">*</span>TreeNode) []<span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> node <span style="color:#000;font-weight:bold">==</span> <span style="color:#000;font-weight:bold">nil</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> []<span style="color:#458;font-weight:bold">int</span>{<span style="color:#099">0</span>, <span style="color:#099">0</span>}
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    l, r <span style="color:#000;font-weight:bold">:=</span> <span style="color:#900;font-weight:bold">dfs</span>(node.Left), <span style="color:#900;font-weight:bold">dfs</span>(node.Right)
</span></span><span style="display:flex;"><span>    selected <span style="color:#000;font-weight:bold">:=</span> node.Val <span style="color:#000;font-weight:bold">+</span> l[<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> r[<span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>    notSelected <span style="color:#000;font-weight:bold">:=</span> <span style="color:#900;font-weight:bold">max</span>(l[<span style="color:#099">0</span>], l[<span style="color:#099">1</span>]) <span style="color:#000;font-weight:bold">+</span> <span style="color:#900;font-weight:bold">max</span>(r[<span style="color:#099">0</span>], r[<span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> []<span style="color:#458;font-weight:bold">int</span>{selected, notSelected}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(x, y <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> x &gt; y {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> y
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="鸡蛋掉落问题">鸡蛋掉落问题</h2>
<h3 id="题目leetcode887-鸡蛋掉落httpsleetcode-cncomproblemssuper-egg-drop"><strong>题目<a href="https://leetcode-cn.com/problems/super-egg-drop/">leetcode887 鸡蛋掉落</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显，考虑子问题的变量有2个，一个是鸡蛋的个数<code>i</code>，一个是楼的层数<code>j</code>，这里需要注意的是，层数的理解</p>
<p><code>dp[i][j]</code>表示第i层剩余j个鸡蛋的最少操作数
最终结果是<code>dp[K][N]</code></p>
<ul>
<li>考虑鸡蛋在k层丢下(1&lt;=k&lt;=i)的情况
<ul>
<li>如果鸡蛋碎了，则接下来验证k-1层楼，需要的次数是dp[k-1][j-1]，总次数为dp[k-1][j-1]+1</li>
<li>如果鸡蛋没有碎，则接下来验证i-k层楼，需要的次数是dp[i-k][j]，总次数为dp[i-k][j]+1</li>
</ul>
</li>
<li>最终结果是<code>dp[i][j]=min(dp[i][0],max(dp[k-1][j-1]+1,dp[i-k][j]+1))</code></li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> i <span style="color:#998;font-style:italic">// 由于只有1个鸡蛋，只能线性的一层一层试，所以最少也要i次
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">superEggDrop</span>(K <span style="color:#458;font-weight:bold">int</span>, N <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> K <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">||</span> N <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> K <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> N
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> N <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, K<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i &lt; K<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>		dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, N<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> N; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>		dp[<span style="color:#099">1</span>][i] = i
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> K; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>		dp[i][<span style="color:#099">1</span>] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">2</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> K; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">2</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> N; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">for</span> x <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; x <span style="color:#000;font-weight:bold">&lt;=</span> j; x<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>				<span style="color:#000;font-weight:bold">if</span> dp[i][j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>					dp[i][j] = math.MaxInt32
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>				dp[i][j] = <span style="color:#900;font-weight:bold">min</span>(dp[i][j], <span style="color:#900;font-weight:bold">max</span>(dp[i][j<span style="color:#000;font-weight:bold">-</span>x], dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][x<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> dp[K][N]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(x, y <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> x &gt; y {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> y
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">min</span>(x, y <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> x &lt; y {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> y
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="路径问题">路径问题</h2>
<h3 id="题目leetcode64-最小路径和httpsleetcode-cncomproblemsminimum-path-sum"><strong>题目<a href="https://leetcode-cn.com/problems/minimum-path-sum/">leetcode64 最小路径和</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显是二维的dp问题，从路径的走法推动表达式。</p>
<p><code>dp[i][j]</code>表示走到<code>grid[i][j]</code>处的最少路径和，最终结果是<code>dp[n-1][m-1]</code></p>
<ul>
<li>考虑走到<code>grid[i][j]</code>的来源</li>
<li>由上一步走到<code>grid[i][j]</code>，则路径和是<code>dp[i-1][j]</code></li>
<li>由左一步走到<code>grid[i][j]</code>，则路径和是<code>dp[i][j-1]</code></li>
<li>综上考虑，则有<code>dp[i][j] = min(dp[i][j-1],dp[i][j-1])</code></li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][j]<span style="color:#000;font-weight:bold">=</span><span style="color:#900;font-weight:bold">sum</span>(grid[<span style="color:#099">0</span>][k]), <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;=</span>k<span style="color:#000;font-weight:bold">&lt;=</span>j
</span></span><span style="display:flex;"><span>dp[i][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#900;font-weight:bold">sum</span>(grid[i][<span style="color:#099">0</span>]), <span style="color:#099">0</span><span style="color:#000;font-weight:bold">&lt;=</span>k<span style="color:#000;font-weight:bold">&lt;=</span>i
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">minPathSum</span>(grid [][]<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(grid)
</span></span><span style="display:flex;"><span>    m <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(grid[<span style="color:#099">0</span>])
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>,n)
</span></span><span style="display:flex;"><span>    tmp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        tmp <span style="color:#000;font-weight:bold">+=</span> grid[i][<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>,m)
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>] = tmp
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    tmp = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;m;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        tmp <span style="color:#000;font-weight:bold">+=</span> grid[<span style="color:#099">0</span>][i]
</span></span><span style="display:flex;"><span>        dp[<span style="color:#099">0</span>][i] = tmp
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;j&lt;m;j<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>            dp[i][j] = <span style="color:#900;font-weight:bold">min</span>(dp[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j])<span style="color:#000;font-weight:bold">+</span>grid[i][j]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][m<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">min</span>(a,b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a&gt;b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode62-不同路径httpsleetcode-cncomproblemsunique-paths"><strong>题目<a href="https://leetcode-cn.com/problems/unique-paths/">leetcode62 不同路径</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显是二维的dp问题，从路径的走法推动表达式。</p>
<p><code>dp[i][j]</code>表示走到<code>grid[i][j]</code>处的路径种数，最终结果是<code>dp[n-1][m-1]</code></p>
<ul>
<li>考虑走到<code>grid[i][j]</code>的来源</li>
<li>由上一步走到<code>grid[i][j]</code>，则路径和是<code>dp[i-1][j]</code></li>
<li>由左一步走到<code>grid[i][j]</code>，则路径和是<code>dp[i][j-1]</code></li>
<li>综上考虑，则有<code>dp[i][j] = dp[i][j-1] + dp[i][j-1]</code></li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][j]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>dp[i][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">uniquePaths</span>(m <span style="color:#458;font-weight:bold">int</span>, n <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>,m)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;m;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>,n)
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        dp[<span style="color:#099">0</span>][i] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;i&lt;m;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;j&lt;n;j<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>            dp[i][j] = dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j]<span style="color:#000;font-weight:bold">+</span>dp[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[m<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode63-不同路径iihttpsleetcode-cncomproblemsunique-paths-ii"><strong>题目<a href="https://leetcode-cn.com/problems/unique-paths-ii/">leetcode63 不同路径II</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显是二维的dp问题，从路径的走法推动表达式。</p>
<p><code>dp[i][j]</code>表示走到<code>grid[i][j]</code>处的路径种数，最终结果是<code>dp[m-1][n-1]</code></p>
<ul>
<li>先考虑<code>grid[i][j]</code>是可行
<ul>
<li>有障碍物，则<code>grid[i][j] = 0</code></li>
<li>没有，则考虑走到<code>grid[i][j]</code>的来源
<ul>
<li>由上一步走到<code>grid[i][j]</code>，则可提供的路径数是<code>dp[i-1][j]</code></li>
<li>由左一步走到<code>grid[i][j]</code>，则可提供的路径数是<code>dp[i][j-1]</code></li>
<li>综上考虑，则有<code>dp[i][j] = dp[i][j-1] + dp[i][j-1]</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>][j]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>  <span style="color:#998;font-style:italic">// j之前的路径上没有障碍
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[<span style="color:#099">0</span>][j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span> <span style="color:#998;font-style:italic">// 存在grid[0][k]=1,k&lt;=j
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span> <span style="color:#998;font-style:italic">// i之前的路径上没有障碍，
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span> <span style="color:#998;font-style:italic">// // 存在grid[k][0]=1,k&lt;=i
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">uniquePathsWithObstacles</span>(obstacleGrid [][]<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    m <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(obstacleGrid)
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(obstacleGrid[<span style="color:#099">0</span>])
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>,m)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i &lt; m; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i &lt; m; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> obstacleGrid[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">break</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>;i&lt;n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> obstacleGrid[<span style="color:#099">0</span>][i] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">break</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        dp[<span style="color:#099">0</span>][i] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;i&lt;m;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">1</span>;j&lt;n;j<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> obstacleGrid[i][j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>                dp[i][j] = <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            dp[i][j] = dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j]<span style="color:#000;font-weight:bold">+</span>dp[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[m<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="矩阵统计问题">矩阵统计问题</h2>
<h3 id="题目leetcode221-最大正方形httpsleetcode-cncomproblemsmaximal-square"><strong>题目<a href="https://leetcode-cn.com/problems/maximal-square/">leetcode221 最大正方形</a></strong></h3>
<p><strong>题解</strong></p>
<p>这类型的题目，关键点便是已<code>matrix[i][j]</code>为右下角的最大正方形边长。</p>
<p><code>dp[i][j]</code>表示走到<code>matrix[i][j]</code>为右下角构建的最大正方形边长，最终结果是<code>[max(dp[i][j])]**2</code></p>
<ul>
<li>考虑走到<code>matrix[i][j]</code>的值如何构建，很明显</li>
<li>如果<code>matrix[i][j]=0</code>，则<code>dp[i][j]=0</code></li>
<li>如果<code>matrix[i][j]=1</code>，则可能构建正方形，查看上边和右边的情况，即可得到结论</li>
<li><code>dp[i][j] = min(dp[i-1][j-1],dp[i-1][j],dp[i][j-1])+1</code></li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i][j]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span> <span style="color:#998;font-style:italic">// matrix[i][j]=1，初始化的时候设置为1
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">maximalSquare</span>(matrix [][]<span style="color:#458;font-weight:bold">byte</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">int</span>, <span style="color:#0086b3">len</span>(matrix))
</span></span><span style="display:flex;"><span>    maxSide <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; i &lt; <span style="color:#0086b3">len</span>(matrix); i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, <span style="color:#0086b3">len</span>(matrix[i]))
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>; j &lt; <span style="color:#0086b3">len</span>(matrix[i]); j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            dp[i][j] = <span style="color:#0086b3">int</span>(matrix[i][j] <span style="color:#000;font-weight:bold">-</span> <span style="color:#d14">&#39;0&#39;</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> dp[i][j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>                maxSide = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; i &lt; <span style="color:#0086b3">len</span>(matrix); i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; j &lt; <span style="color:#0086b3">len</span>(matrix[i]); j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> dp[i][j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span> {
</span></span><span style="display:flex;"><span>                dp[i][j] = <span style="color:#900;font-weight:bold">min</span>(<span style="color:#900;font-weight:bold">min</span>(dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j], dp[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]), dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> dp[i][j] &gt; maxSide {
</span></span><span style="display:flex;"><span>                    maxSide = dp[i][j]
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> maxSide <span style="color:#000;font-weight:bold">*</span> maxSide
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">min</span>(x, y <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> x &lt; y {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> x
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> y
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目-1277-统计全为-1-的正方形子矩阵httpsleetcode-cncomproblemscount-square-submatrices-with-all-ones"><strong>题目 <a href="https://leetcode-cn.com/problems/count-square-submatrices-with-all-ones/">1277 统计全为 1 的正方形子矩阵</a></strong></h3>
<p><strong>题解</strong></p>
<p>本题目其实是<a href="%E6%9C%80%E5%A4%A7%E6%AD%A3%E6%96%B9%E5%BD%A2.md">最大正方形</a>的变体，如果知道了已<code>matrix[i][j]</code>为右下角可以构成的最大正方形，则统计可以构建的个数就是答案。</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">countSquares</span>(matrix [][]<span style="color:#458;font-weight:bold">int</span>) (res <span style="color:#458;font-weight:bold">int</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// m := make(map[int]int)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    m <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, <span style="color:#099">301</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>; i&lt;<span style="color:#0086b3">len</span>(matrix); i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">0</span>; j&lt;<span style="color:#0086b3">len</span>(matrix[i]); j<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 求出当前状态的能组成的正方体的大小
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">if</span> i<span style="color:#000;font-weight:bold">!=</span><span style="color:#099">0</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> j<span style="color:#000;font-weight:bold">!=</span><span style="color:#099">0</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> matrix[i][j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span>{
</span></span><span style="display:flex;"><span>                matrix[i][j] = <span style="color:#900;font-weight:bold">min</span>(matrix[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>], matrix[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j], matrix[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// map记录对应大小的正方体的个数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">if</span> matrix[i][j]&gt;<span style="color:#099">0</span>{
</span></span><span style="display:flex;"><span>                m[matrix[i][j]]<span style="color:#000;font-weight:bold">++</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i,v <span style="color:#000;font-weight:bold">:=</span><span style="color:#000;font-weight:bold">range</span> m{
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> v<span style="color:#000;font-weight:bold">!=</span><span style="color:#099">0</span>{
</span></span><span style="display:flex;"><span>            res <span style="color:#000;font-weight:bold">+=</span> i<span style="color:#000;font-weight:bold">*</span>v
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> res
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">min</span>(a,b,c <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> c&lt;a {a = c}
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a&lt;b{<span style="color:#000;font-weight:bold">return</span> a}
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目1139-最大的以-1-为边界的正方形httpsleetcode-cncomproblemslargest-1-bordered-square"><strong>题目<a href="https://leetcode-cn.com/problems/largest-1-bordered-square/">1139. 最大的以 1 为边界的正方形</a></strong></h3>
<p><strong>题解</strong></p>
<p>本体比较困难，感觉无从下手，考虑构建边界为1的正方形，我们的思考触发点是锚定正方形边长。</p>
<p><code>dp[i][j][0]</code>:表示第i行第j列的1往 左边 最长连续的1的个数
<code>dp[i][j][1]</code>:表示第i行第j列的1往 上面 最长连续的1的个数</p>
<p>考虑走到<code>grid[i][j]</code>时，左边和上边可以拿到可能构建的最大正方形边长<code>maxLine</code>，之后我们就需要考虑右上角的点是否符合预期，即<code>dp[i-maxLine+1][j][1]</code>和<code>dp[i][j-maxLine+1][0]</code>是否都可以取到<code>maxLine</code>，如果可以就能够构建，因此只需要再考虑是否是最大的就好</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">largest1BorderedSquare</span>(grid [][]<span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">var</span> dp [<span style="color:#099">101</span>][<span style="color:#099">101</span>][<span style="color:#099">2</span>]<span style="color:#458;font-weight:bold">int</span>
</span></span><span style="display:flex;"><span>    res <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> grid {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> grid[i] {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> grid[i][j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {<span style="color:#000;font-weight:bold">continue</span>}
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>                dp[i][j][<span style="color:#099">0</span>] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                dp[i][j][<span style="color:#099">0</span>] = dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> j <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>                dp[i][j][<span style="color:#099">1</span>] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                dp[i][j][<span style="color:#099">1</span>] = dp[i][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            maxLine <span style="color:#000;font-weight:bold">:=</span> <span style="color:#900;font-weight:bold">min</span>(dp[i][j][<span style="color:#099">0</span>], dp[i][j][<span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">for</span> maxLine &gt; res {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> dp[i<span style="color:#000;font-weight:bold">-</span>maxLine<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j][<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">&gt;=</span> maxLine <span style="color:#000;font-weight:bold">&amp;&amp;</span> dp[i][j<span style="color:#000;font-weight:bold">-</span>maxLine<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">&gt;=</span> maxLine {
</span></span><span style="display:flex;"><span>                    res = maxLine
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                maxLine<span style="color:#000;font-weight:bold">--</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> res <span style="color:#000;font-weight:bold">*</span> res
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">min</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a &lt; b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">max</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a &gt; b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="二叉搜索树问题">二叉搜索树问题</h2>
<h3 id="题目leetcode96-不同的二叉搜索树httpsleetcode-cncomproblemsunique-binary-search-trees"><strong>题目<a href="https://leetcode-cn.com/problems/unique-binary-search-trees/">leetcode96 不同的二叉搜索树</a></strong></h3>
<p><strong>题解</strong></p>
<p>考虑二叉搜索树的特性，如果把整数n中抽取一个数x，小于x的数字可以组合成二叉搜索树个数xl，大于x的数字集合也可以组合成二叉搜索树个数xr，而基于x为根构建的二叉搜索树个数便是xl*xr，这样将n的构建个数拆分出x的构建个数，则可以看出子问题就是节点数构建的不同二叉搜索树个数。</p>
<p><code>dp[i]</code>表示节点数为<code>i</code>的构建二叉搜索树的个数，则最终答案为 <code>dp[n]</code></p>
<ul>
<li>将n的构建拆分成基于n以内的每个数作为根，构建的二叉搜索树个数之和</li>
</ul>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">sum</span>(dp[i<span style="color:#000;font-weight:bold">-</span>x]<span style="color:#000;font-weight:bold">*</span>dp[x<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]), <span style="color:#099">1</span><span style="color:#000;font-weight:bold">&lt;=</span>x<span style="color:#000;font-weight:bold">&lt;=</span>i
</span></span></code></pre></td></tr></table>
</div>
</div><p>当节点数是0，则构建空树，计数为1，节点数是1，则构建树是单节点的树，个数1</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">numTrees</span>(n <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    G <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    G[<span style="color:#099">0</span>], G[<span style="color:#099">1</span>] = <span style="color:#099">1</span>, <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">2</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> n; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> i; j<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>            G[i] <span style="color:#000;font-weight:bold">+=</span> G[j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">*</span> G[i<span style="color:#000;font-weight:bold">-</span>j]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> G[n]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="丑数问题">丑数问题</h2>
<h3 id="题目leetcode263-丑数httpsleetcode-cncomproblemsugly-number"><strong>题目<a href="https://leetcode-cn.com/problems/ugly-number/">leetcode263 丑数</a></strong></h3>
<p><strong>题解</strong>
该题不是动态规划题目，只是丑数系列，因此收入，简单的判断即可</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">var</span> factors = []<span style="color:#458;font-weight:bold">int</span>{<span style="color:#099">2</span>, <span style="color:#099">3</span>, <span style="color:#099">5</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">isUgly</span>(n <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">bool</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> n <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> _, f <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> factors {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> n<span style="color:#000;font-weight:bold">%</span>f <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>            n <span style="color:#000;font-weight:bold">/=</span> f
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> n <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode264-丑数iihttpsleetcode-cncomproblemsugly-number-ii"><strong>题目<a href="https://leetcode-cn.com/problems/ugly-number-ii/">leetcode264 丑数II</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显，考虑子问题的变量有1个，就是第<code>i</code>个丑数问题</p>
<p><code>dp[i]</code>表示第i个丑数的值
最终结果是<code>dp[n]</code></p>
<p>考虑<code>dp[i-1]</code>和<code>dp[i]</code>的关系，可以知道，<code>dp[i]=min(dp[i2]*2,dp[i3]*3,dp[i5]*5)</code>，这里<code>i2</code>，<code>i3</code>，<code>i5</code>的存储和更新就是问题核心了</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">nthUglyNumber</span>(n <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    dp[<span style="color:#099">0</span>] = <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    p2, p3, p5 <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>,<span style="color:#099">1</span>,<span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> n; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        x2, x3, x5 <span style="color:#000;font-weight:bold">:=</span> p2<span style="color:#000;font-weight:bold">*</span><span style="color:#099">2</span>, p3<span style="color:#000;font-weight:bold">*</span><span style="color:#099">3</span>, p5<span style="color:#000;font-weight:bold">*</span><span style="color:#099">5</span>
</span></span><span style="display:flex;"><span>        dp[i] = <span style="color:#900;font-weight:bold">min</span>(<span style="color:#900;font-weight:bold">min</span>(x2, x3), x5)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> dp[i] <span style="color:#000;font-weight:bold">==</span> x2 {
</span></span><span style="display:flex;"><span>            p2<span style="color:#000;font-weight:bold">++</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> dp[i] <span style="color:#000;font-weight:bold">==</span> x3 {
</span></span><span style="display:flex;"><span>            p3<span style="color:#000;font-weight:bold">++</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> dp[i] <span style="color:#000;font-weight:bold">==</span> x5 {
</span></span><span style="display:flex;"><span>            p5<span style="color:#000;font-weight:bold">++</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp[n]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">min</span>(a, b <span style="color:#458;font-weight:bold">int</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a &lt; b {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> a
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> b
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="括号问题">括号问题</h2>
<h3 id="题目leetcode32-最长有效括号httpsleetcode-cncomproblemslongest-valid-parentheses"><strong>题目<a href="https://leetcode-cn.com/problems/longest-valid-parentheses/">leetcode32 最长有效括号</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显，考虑子问题的变量有1个，就是第<code>i</code>个字符之前能构建的最长括号子串</p>
<p><code>dp[i]</code> 表示以下标<code>i</code>字符结尾的最长有效括号的长度</p>
<p>考虑<code>s[i]=')' 且 s[i-1]='('</code>时，则有<code>dp[i]=dp[i−2]+2</code>
如果<code>s[i]=')' 且 s[i−1]=')'</code>时，则可以往前推断，考虑<code>dp[i-1]</code>之前的一个字符，是否符合与<code>s[i]</code>配对的情况，如果<code>s[i−dp[i−1]−1]='('</code>，则有<code>dp[i]=dp[i−1]+dp[i−dp[i−1]−2]+2</code></p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">longestValidParentheses</span>(s <span style="color:#458;font-weight:bold">string</span>) <span style="color:#458;font-weight:bold">int</span> {
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">len</span>(s)
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([]<span style="color:#458;font-weight:bold">int</span>, n)
</span></span><span style="display:flex;"><span>    ret <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">1</span>; i &lt; n; i<span style="color:#000;font-weight:bold">++</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> s[i] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;)&#39;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> s[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;(&#39;</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>                    dp[i] = dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>                } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                    dp[i] = <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            } <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> i<span style="color:#000;font-weight:bold">-</span>dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">1</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> s[i<span style="color:#000;font-weight:bold">-</span>dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;(&#39;</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> i<span style="color:#000;font-weight:bold">-</span>dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>                    dp[i] = dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">+</span> dp[i<span style="color:#000;font-weight:bold">-</span>dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>]
</span></span><span style="display:flex;"><span>                } <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                    dp[i] = dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> ret &lt; dp[i] {
</span></span><span style="display:flex;"><span>            ret = dp[i]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> ret
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="题目leetcode22-括号生成httpsleetcode-cncomproblemsgenerate-parentheses"><strong>题目<a href="https://leetcode-cn.com/problems/generate-parentheses/">leetcode22 括号生成</a></strong></h3>
<p><strong>题解</strong></p>
<p>很明显，考虑子问题的变量有1个，就是给定数量<code>i</code>对括号可以生成的组合</p>
<p><code>dp[i]</code> 表示给定<code>i</code>对括号生成的有效括号组合集合</p>
<p>考虑有效的括号组合可以抽象为<code>(a)b</code>的形式，其中<code>a</code>和<code>b</code>都是有效的括号组合形式，则<code>i+1</code>的有效组合有
<code>dp[i+1]='('+dp[p]+')'+dp[q]</code>，其中<code>p+q=i</code></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>dp[<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span>[<span style="color:#d14">&#34;&#34;</span>] 
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">=</span>[<span style="color:#d14">&#34;()&#34;</span>]
</span></span></code></pre></td></tr></table>
</div>
</div><p>​</p>
<p><strong>代码</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">func</span> <span style="color:#900;font-weight:bold">generateParenthesis</span>(n <span style="color:#458;font-weight:bold">int</span>) (res []<span style="color:#458;font-weight:bold">string</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span> n <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">return</span> 
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	dp <span style="color:#000;font-weight:bold">:=</span> <span style="color:#0086b3">make</span>([][]<span style="color:#458;font-weight:bold">string</span>,n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>	dp[<span style="color:#099">0</span>] = []<span style="color:#458;font-weight:bold">string</span>{<span style="color:#d14">&#34;&#34;</span>}
</span></span><span style="display:flex;"><span>	dp[<span style="color:#099">1</span>] = []<span style="color:#458;font-weight:bold">string</span>{<span style="color:#d14">&#34;()&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> i<span style="color:#000;font-weight:bold">:=</span><span style="color:#099">2</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">for</span> p <span style="color:#000;font-weight:bold">:=</span> <span style="color:#099">0</span>;p&lt;i;p<span style="color:#000;font-weight:bold">++</span>{
</span></span><span style="display:flex;"><span>			dpp <span style="color:#000;font-weight:bold">:=</span> dp[p]
</span></span><span style="display:flex;"><span>			dpq <span style="color:#000;font-weight:bold">:=</span> dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span><span style="color:#000;font-weight:bold">-</span>p]
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">for</span> _,v <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> dpp{
</span></span><span style="display:flex;"><span>				<span style="color:#000;font-weight:bold">for</span> _,vv <span style="color:#000;font-weight:bold">:=</span> <span style="color:#000;font-weight:bold">range</span> dpq {
</span></span><span style="display:flex;"><span>					tmp <span style="color:#000;font-weight:bold">:=</span> fmt.<span style="color:#900;font-weight:bold">Sprintf</span>(<span style="color:#d14">&#34;(%s)%s&#34;</span>,v,vv)
</span></span><span style="display:flex;"><span>					dp[i] = <span style="color:#0086b3">append</span>(dp[i], tmp)
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> dp[n]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div>
        </div>

        


        

<div class="post-archive">
    <h2>相关文章</h2>
    <ul class="listing">
        
        <li><a href="/blog/read/2023-05-22-%E6%9D%82%E8%AE%B0/">20230522杂记</a></li>
        
        <li><a href="/blog/post/2023-04-22-k8s%E5%9F%BA%E7%A1%80%E8%BF%9B%E9%98%B6/">k8s|基础进阶</a></li>
        
        <li><a href="/blog/read/2023-04-12-%E6%9D%82%E8%AE%B0/">20230412杂记</a></li>
        
        <li><a href="/blog/post/2023-03-21-k8s%E6%A6%82%E5%BF%B5/">k8s|基础概念</a></li>
        
        <li><a href="/blog/post/2023-02-18-%E4%BA%91%E5%8E%9F%E7%94%9Fdocker/">k8s|Docker学习</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            没有标签
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "weiweng/blog"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
    
    

</div>

                    <footer id="footer">
    <div>
        &copy; 2023 <a href="https://weiweng.github.io/blog/">weiweng的博客 By weiweng</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='//cdn.bootcdn.net/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/blog/js/totop.js?v=0.0.0' async=""></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XYCDHPQC9T"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-XYCDHPQC9T', { 'anonymize_ip': false });
}
</script>

<style type="text/css">
div.highlight {
    position: relative;
    margin: 1em 0px;
}

.copy-code {
    display: none;
    position: absolute;
    top: 4px;
    right: 4px;
    color: rgba(255, 255, 255, 0.8);
    background: rgba(78, 78, 78, 0.8);
    border-radius: var(--radius);
    padding: 0 5px;
    font: inherit;
    user-select: none;
    cursor: pointer;
    border: 0;
    --radius: 8px;
}

div.highlight:hover .copy-code,pre:hover .copy-code {
    display: block;
}

</style>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>





                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://weiweng.github.io/blog/search' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://weiweng.github.io/blog/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>

    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://weiweng.github.io/blog/post/2023-09-08-%E5%9B%BE/" title="算法专题|图" target="_blank">算法专题|图</a>
    </li>
    
    <li>
        <a href="https://weiweng.github.io/blog/post/2023-06-26-%E8%B4%AA%E5%BF%83/" title="算法专题|贪心" target="_blank">算法专题|贪心</a>
    </li>
    
    <li>
        <a href="https://weiweng.github.io/blog/post/2023-06-16-%E5%8D%95%E8%B0%83%E6%A0%88/" title="算法专题|单调栈" target="_blank">算法专题|单调栈</a>
    </li>
    
    <li>
        <a href="https://weiweng.github.io/blog/post/2023-06-16-%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/" title="算法专题|滑动窗口" target="_blank">算法专题|滑动窗口</a>
    </li>
    
    <li>
        <a href="https://weiweng.github.io/blog/post/2023-06-11-%E5%8F%8C%E6%8C%87%E9%92%88/" title="算法专题|双指针" target="_blank">算法专题|双指针</a>
    </li>
    
    <li>
        <a href="https://weiweng.github.io/blog/post/2023-06-11-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/" title="算法专题|二分查找" target="_blank">算法专题|二分查找</a>
    </li>
    
    <li>
        <a href="https://weiweng.github.io/blog/post/2023-06-10-%E5%9B%9E%E6%BA%AF/" title="算法专题|回溯" target="_blank">算法专题|回溯</a>
    </li>
    
    <li>
        <a href="https://weiweng.github.io/blog/post/2023-06-06-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" title="算法专题|动态规划" target="_blank">算法专题|动态规划</a>
    </li>
    
    <li>
        <a href="https://weiweng.github.io/blog/post/2023-04-22-k8s%E5%9F%BA%E7%A1%80%E8%BF%9B%E9%98%B6/" title="k8s|基础进阶" target="_blank">k8s|基础进阶</a>
    </li>
    
    <li>
        <a href="https://weiweng.github.io/blog/post/2023-03-21-k8s%E6%A6%82%E5%BF%B5/" title="k8s|基础概念" target="_blank">k8s|基础概念</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/blog/categories/'>分类</a></h3>
<ul class="widget-list">
    
    <li><a href="https://weiweng.github.io/blog/categories/Golang/">Golang (26)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/MQ/">MQ (3)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/Python/">Python (2)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/Redis/">Redis (9)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/k8s/">k8s (3)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/linux/">linux (2)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/mysql/">mysql (21)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务 (3)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统 (1)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/%E7%AE%97%E6%B3%95%E4%B8%93%E9%A2%98/">算法专题 (8)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/%E7%AE%97%E6%B3%95%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">算法&amp;数据结构 (36)</a></li>
    
    <li><a href="https://weiweng.github.io/blog/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络 (1)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/blog/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="https://weiweng.github.io/blog/tags/awk/">awk</a>
    
    <a href="https://weiweng.github.io/blog/tags/curl/">curl</a>
    
    <a href="https://weiweng.github.io/blog/tags/find/">find</a>
    
    <a href="https://weiweng.github.io/blog/tags/git/">git</a>
    
    <a href="https://weiweng.github.io/blog/tags/grep/">grep</a>
    
    <a href="https://weiweng.github.io/blog/tags/item2/">item2</a>
    
    <a href="https://weiweng.github.io/blog/tags/nginx/">nginx</a>
    
    <a href="https://weiweng.github.io/blog/tags/sed/">sed</a>
    
    <a href="https://weiweng.github.io/blog/tags/shell/">shell</a>
    
    <a href="https://weiweng.github.io/blog/tags/tmux/">tmux</a>
    
    <a href="https://weiweng.github.io/blog/tags/uml/">uml</a>
    
    <a href="https://weiweng.github.io/blog/tags/vim/">vim</a>
    
    <a href="https://weiweng.github.io/blog/tags/%E5%AD%A6%E4%B9%A0/">学习</a>
    
    <a href="https://weiweng.github.io/blog/tags/%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE/">开源协议</a>
    
    <a href="https://weiweng.github.io/blog/tags/%E5%BF%83%E5%BE%97/">心得</a>
    
    <a href="https://weiweng.github.io/blog/tags/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E5%B7%A7/">搜索引擎技巧</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://www.flysnow.org/" title="飞雪无情的博客">飞雪无情的博客</a>
        </li>
        
        <li>
            <a target="_blank" href="https://draveness.me/" title="面向信仰编程">面向信仰编程</a>
        </li>
        
        <li>
            <a target="_blank" href="https://xargin.com/" title="No Headback">No Headback</a>
        </li>
        
        <li>
            <a target="_blank" href="https://eddycjy.com/" title="煎鱼的博客">煎鱼的博客</a>
        </li>
        
        <li>
            <a target="_blank" href="https://polarisxu.studygolang.com/" title="polarisxu的博客">polarisxu的博客</a>
        </li>
        
        <li>
            <a target="_blank" href="https://qcrao.com/" title="qcrao 的博客">qcrao 的博客</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://weiweng.github.io/blog/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>