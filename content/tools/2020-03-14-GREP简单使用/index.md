+++
title="GREP简单使用"
tags=["linux","grep"]
categories=["linux"]
date="2020-03-14T02:35:00+08:00"
summary = 'GREP简单使用'
toc=false
+++

GREP简介
--------

grep 是 (Global search Regular Expression and Print out the line) 的简称，即全面搜索正则表达式并打印行，该命令是 Linux 中的一种非常强大的文本搜索工具，它可以根据指定的字符串，对文件的每一行进行搜索，如果找到该字符串，则输出该行的内容。

经典用法
--------

**目录下查找匹配字符**

```
grep -Iirn 'xxx' .
```

**输出匹配数值**

```
grep -P 'xxxx=(\d+)' -o
```

GREP使用
--------

grep [参数] 需要查找的字符串 文件名

### 参数简介

**显示符合条件的行，同时显示该行后的NUM行**

```
-A NUM
```

**显示符合条件的行，同时显示改行之前的NUM行**

```
-B NUM
```

**只显示符合条件的行数，而不显示具体信息，即统计行数情况**

```
-c
```

**搜索时忽略大小写**

```
-i
```

**搜索多个文件时不显示文件名**

```
-h
```

**只显示符合匹配的文件名，而不显示具体匹配行**

```
-l
```

**显示所有匹配的行，并显示行号**

```
-n
```

**不显示不存在或无匹配文本的错误信息**

```
-s
```

**显示不包含匹配文本的所有行**

```
-v
```

**匹配整个词**

```
-w
```

**匹配整行**

```
-x
```

**递归搜索，不仅仅搜索当前目录，也搜索子目录**

```
-r
```

**不输出任何结果，已退出状态表示是否搜索成功**

```
-q
```

**打印匹配行距离文件头部的偏移量，以字节为单位**

```
-b
```

**输出匹配的内容而不是整行**

```
-o
```

**支持扩展的正则表达式**

```
-E
```

### 注意点

grep 命令中的需要查找的字符串十分灵活，可以是字符串，也可以是变量，还可以是正则表达式。需要注意的是，无论是体积形式，只要包含空格，就需要使用双引号将其引起来，如果不加双引号，空格后的字符串会被认为为是文件名。

### 后记

```
grep的规则表达式简介
^
#锚定行的开始 如：'^grep'匹配所有以grep开头的行。
$
#锚定行的结束 如：'grep$'匹配所有以grep结尾的行。
.
#匹配一个非换行符的字符 如：'gr.p'匹配gr后接一个任意字符，然后是p。
*
#匹配零个或多个先前字符 如：'*grep'匹配所有一个或多个空格后紧跟grep的行。    
.*
#一起用代表任意字符。
[]
#匹配一个指定范围内的字符，如'[Gg]rep'匹配Grep和grep。
[^]
#匹配一个不在指定范围内的字符，如：'[^A-FH-Z]rep'匹配不包含A-R和T-Z的一个字母开头，紧跟rep的行。
\(..\)
#标记匹配字符，如'\(love\)'，love被标记为1。    
\<
#锚定单词的开始，如:'\<grep'匹配包含以grep开头的单词的行。    
\>
#锚定单词的结束，如'grep\>'匹配包含以grep结尾的单词的行。
x\{m\}
#重复字符x，m次，如：'0\{5\}'匹配包含5个o的行。    
x\{m,\}
#重复字符x,至少m次，如：'o\{5,\}'匹配至少有5个o的行。    
x\{m,n\}
#重复字符x，至少m次，不多于n次，如：'o\{5,10\}'匹配5--10个o的行。   
\w
#匹配文字和数字字符，也就是[A-Za-z0-9]，如：'G\w*p'匹配以G后跟零个或多个文字或数字字符，然后是p。   
\W
#\w的反置形式，匹配一个或多个非单词字符，如点号句号等。   
\b
#单词锁定符，如: '\bgrep\b'只匹配grep。  
```

### 参考

1.	[Linux 基础教程 23](https://www.jianshu.com/p/680cfbc0b228)
2.	[每天一个linux命令（39）：grep 命令](http://www.cnblogs.com/peida/archive/2012/12/17/2821195.html)
3.	[Linux命令大全-grep](http://man.linuxde.net/grep)

